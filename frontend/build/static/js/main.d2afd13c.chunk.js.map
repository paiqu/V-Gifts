{"version":3,"sources":["utils/constants.js","axios.js","AuthContext.js","components/admin/UsersDataGrid.js","components/AdminHome.js","components/CustomSnackbar.js","utils/AlertInfo.js","components/admin/ProductsManagement.js","utils/ErrorCode.js","components/admin/OrdersManagement.js","components/admin/AdminsManagement.js","components/AdminDrawer.js","pages/AdminPage.js","components/NavBarHome.js","pages/HomePage.js","components/Dialog/ForgetPasswordDialog.js","pages/LoginPage.js","components/Dialog/EditProfileDialog.js","components/Dialog/ChangePasswordDialog.js","components/UserHome.js","components/OrderCard.js","components/UserDrawer.js","pages/ProfilePage.js","pages/RegisterPage.js","components/CustomChip.js","components/InterestsChips.js","pages/InterestSelectionPage.js","components/NavBar.js","pages/RegisterStepperPage.js","components/ProductCardNew.js","components/CheckboxList.js","components/CollapseCategories.js","components/ProductFilter.js","components/modals/PurchaseSuccessModal.js","components/modals/NotLoginModal.js","components/chat/Chatbot.js","pages/ProductsPage.js","components/QuantitySelect.js","components/Product.js","pages/ProductDetailPage.js","components/cart/CartProductCard.js","pages/CartPage.js","pages/AdminLoginPage.js","pages/NotFoundPage.js","utils/ProtectedRoute.js","utils/AdminRoute.js","App.js","reportWebVitals.js","index.js","components/reducers/CartReducer.js"],"names":["require","config","DEFAULT_ERROR_TEXT","axios","defaults","baseURL","headers","put","post","delete","interceptors","request","use","response","error","console","message","log","data","_","get","toast","Promise","reject","AuthContext","React","createContext","AuthProvider","Provider","Consumer","UsersDataGrid","props","rows","users","map","x","id","account_name","first_name","last_name","email","address","city","country","style","height","width","Typography","variant","columns","field","headerName","description","sortable","valueGetter","params","getValue","pageSize","checkboxSelection","useStyles","makeStyles","theme","root","gridItem","spacing","cardTitle","display","marginBottom","cardIcon","marginRight","cardTitleText","textDecoration","fontWeight","color","palette","primary","contrastText","cardContent","flexDirection","alignItems","AdminHome","classes","useTheme","classeName","Grid","container","item","md","xs","Card","className","CardContent","classname","component","productsNum","usersNum","ordersNum","adminsNum","Alert","elevation","marginTop","CustomSnackBar","handleClose","event","reason","setOpen","Snackbar","open","autoHideDuration","onClose","severity","FUND_ALERT","EMPTY_ALERT","THANKS_ALERT","NEGATIVE_NUM_ALERT","EDIT_PRODUCT_SUCCESS_ALERT","ADD_PRODUCT_SUCCESS_ALERT","UPDATE_ORDER_STATE_ALERT","UPDATE_RECEIVE_ALERT","UPDATE_REFUND_ALERT","CHANGE_PASSWORD_ALERT","IMG_EMPTY_ALERT","INVALID_ORDER_ID","form","ProductsManagement","token","useState","products","setProducts","reloadProducts","setReloadProducts","csv","setCsv","name","price","delivery","img","newProduct","setNewProduct","selectedProduct","setSelectedProduct","selectionModel","setSelectionModel","alertOpen","setAlertOpen","alertInfo","setAlertInfo","handleNewProductChange","target","value","handleSelectedProductChange","handleNewFileUpload","files","handleSelectedFileUpload","type","replace","useEffect","page","then","catch","err","length","parseInt","autoHeight","hideFooterSelectedRowCount","onSelectionModelChange","selection","newSelectionModel","selectionSet","Set","result","filter","s","has","onSubmit","preventDefault","formData","FormData","append","setUpdateProduct","ADD_ALERT","TextField","required","label","placeholder","onChange","InputLabelProps","shrink","inputProps","step","min","multiline","rowsMax","Button","accept","hidden","EDIT_ALERT","res","status","NOT_ENOUGH_FUND","OrdersManagement","orders","setOrders","orderId","orderState","info","setInfo","handleChange","moment","parseFloat","format","state","UPDATE_ALERT","FormControl","InputLabel","Select","labelId","MenuItem","AdminsManagement","admins","setAdmins","password","showPassword","newAdmin","setNewAdmin","loading","setLoading","nameError","emailError","passwordError","help_text","setState","handle_error","code","Box","helperText","onClick","OutlinedInput","endAdornment","InputAdornment","position","IconButton","aria-label","onMouseDown","edge","labelWidth","marginLeft","appBar","zIndex","drawer","flexShrink","whiteSpace","drawerPaper","drawerContainer","overflow","content","flexGrow","padding","logo","margin","textAlign","maxWidth","maxHeight","title","logoutButton","AdminDrawer","useContext","admin","profile","home","setDisplay","updateProduct","setUsers","SetOrders","renderUsers","renderOrders","renderAdminHome","renderProducts","renderAdmins","CssBaseline","AppBar","Toolbar","Link","to","noWrap","localStorage","removeItem","history","push","Drawer","paper","List","ListItem","button","ListItemIcon","ListItemText","Divider","Avatar","alt","src","border","AdminPage","setProfile","username","menuButton","loginButton","registerButton","toolBar","minHeight","ButtonAppBar","boxShadow","backgroundColor","main","intro","justifyContent","joinButton","HomePage","nav","backgroundImage","backgroundSize","align","gutterBottom","paragraph","ForgetPasswordDialog","timing","setTiming","second","setSecond","setEmail","setError","interval","setInterval","preSecond","clearInterval","Dialog","aria-labelledby","DialogTitle","DialogContent","DialogContentText","disabled","DialogActions","Copyright","Date","getFullYear","image","backgroundRepeat","grey","backgroundPosition","avatar","secondary","submit","adminButton","bottom","LoginPage","setAuth","infos","setInfos","openDialog","setOpenDialog","sm","Paper","square","noValidate","user_id","fullWidth","autoComplete","autoFocus","mt","flex","grid","Transition","forwardRef","ref","Slide","direction","EditProfileDialog","user","fname","lname","fullScreen","TransitionComponent","Container","ChangePasswordDialog","oldPassword","newPassword","confirmPassword","handleErrorClick","old_password","new_password","PASSWORD_ALERT","UserHome","useHistory","fundToAdd","setFundToAdd","cart","setCart","editDialog","setEditDialog","PasswordDialog","setPasswordDialog","size","e","num","go","borderRadius","OrderCard","date","purchase_date","rating","setRating","state_in_text","setOrderState","displayReceive","setDisplayReceive","displayRefund","setDisplayRefund","ButtonBase","product_id","pic_link","product_name","amount","cost","mb","borderColor","Rating","order_id","precision","emptyIcon","fontSize","RECEIVE_ALERT","REFUND_ALERT","UserDrawer","renderUserHome","handleLogout","index","ProfilePage","RegisterPage","email_error","account_error","password_error","email_text","account_text","password_text","handleNext","onBlur","test","SELECTED","UNSELECTED","CustomChip","setColor","Chip","handleAdd","handleRemove","handleClick","InterestsChips","setSelected","interests","setInterests","InterestSelectionPage","selected","interest","prevSelected","interest_lst","grow","marketButton","search","shape","fade","common","white","minWidth","searchIcon","pointerEvents","inputRoot","inputInput","paddingLeft","transition","transitions","create","sectionDesktop","NavBar","searchInput","setSearchInput","cartCount","setCartCount","NotLoggedIn","LoggedInProfile","Badge","badgeContent","reload","InputBase","input","onKeyDown","key","setKeyword","backButton","instructions","RegisterStepperPage","activeStep","setActiveStep","setInterets","steps","prevActiveStep","handleBack","Stepper","alternativeLabel","Step","StepLabel","getStepContent","media","actionArea","CardActions","ProductCardNew","CardActionArea","alignItem","CardMedia","split","splice","join","setModalType","handlePsModalOpen","setNavbarReload","prev","handleNlModalOpen","cursor","payload","list","url","method","background","nested","CheckboxList","role","undefined","handleCategory","textTransform","CollapseCategories","Collapse","in","timeout","unmountOnExit","disablePadding","ProductFilter","subheader","ListSubheader","modal","shadows","leftButton","rightButton","PurchaseSuccessModal","Modal","aria-describedby","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","Fade","renderTitle","pathname","renderButtonRight","NotLoginModal","Chatbot","d","m","document","createElement","async","getElementsByTagName","appendChild","window","kommunicate","_globals","leftContainer","rightContainer","pagination","justifySelf","fab","right","popper","recommendations","flexWrap","gridList","transform","gridListTitle","titleBar","strToNumList","str","output","Array","fill","indexOf","ProductsPage","totalPages","setTotalPages","recommendation","setRecommendation","setResult","navbarReload","keyword","category","psModalOpen","setPsModalOpen","nlModalOpen","setNlModalOpen","handlePsModalClose","handleNlModalClose","prevKeyword","useRef","current","usePrevious","price_range","flag","renderSearchTitle","modalType","navBar","GridList","cols","GridListTile","GridListTileBar","productsGrid","Pagination","count","number","QuantitySelect","ButtonGroup","disableElevation","handleDecrement","handleIncrement","imageContainer","details","Product","setAmount","justify","readOnly","ProductDetailPage","match","CartProductCard","setReload","checkoutBtn","CartPage","totalPayment","setTotalPayment","ml","mr","p","cartProducts","href","AdminLoginPage","setAdminAuth","NotFoundPage","ProtectedRoute","AdminRoute","createMuiTheme","light","dark","App","getItem","authDetails","setAuthDetails","adminDetails","setAdminDetails","setItem","ThemeProvider","exact","path","render","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","store","createStore","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d2afd13c.chunk.js","sourcesContent":["require(\"dotenv\").config();\n\n// export const url = \"http://localhost:\" + process.env.REACT_APP_BACKEND_PORT;\nexport const url = \"http://vgifts.pythonanywhere.com/\";\n\n// General POST error\nexport const DEFAULT_ERROR_TEXT = 'An error occured. Try again later';\n\n// Specific GET errors (deprecated)\nexport const CHANNEL_ERROR_TEXT = 'Unable to retrieve channel information';\n","import axios from 'axios';\nimport _ from 'lodash';\n\nimport { url, DEFAULT_ERROR_TEXT } from './utils/constants';\n// import { DEFAULT_ERROR_TEXT } from './utils/text';\nimport { toast } from 'react-toastify';\n\naxios.defaults.baseURL = url;\naxios.defaults.headers.put['Content-Type'] = 'application/json';\naxios.defaults.headers.post['Content-Type'] = 'application/json';\naxios.defaults.headers.delete['Content-Type'] = 'application/json';\n\n\naxios.interceptors.request.use((request) => {\n    return request;\n});\n\nconst errorHandler = (error) => {\n    // https://gist.github.com/saqueib/a495af17d7c0e2fd5c2316b0822ebac3\n\n    // if has response show the error\n    console.error(error);\n\n    let message = DEFAULT_ERROR_TEXT;\n\n    if (error.response) {\n        console.log(error.response.data);\n        message = _.get(error, 'response.data.message') || DEFAULT_ERROR_TEXT;\n        return error.response;\n    }\n\n    toast.error(message);\n\n    return Promise.reject({ ...error })\n}\n\nconst responseHandler = (response) => {\n    return response;\n}\n\naxios.interceptors.response.use(responseHandler, errorHandler);\n","import React from 'react';\n\nconst AuthContext = React.createContext();\n\nexport const AuthProvider = AuthContext.Provider;\nexport const AuthConsumer = AuthContext.Consumer;\nexport default AuthContext;\n","import React from 'react';\nimport { DataGrid } from '@material-ui/data-grid';\nimport Typography from \"@material-ui/core/Typography\";\n\nexport default function UsersDataGrid(props) {\n  const columns = [\n    { field: 'id', headerName: 'ID', width: 100 },\n    { field: 'account_name', headerName: 'Account name', width: 180 },\n    { field: 'first_name', headerName: 'First name', width: 180 },\n    { field: 'last_name', headerName: 'Last name', width: 180 },\n    {\n      field: 'fullName',\n      headerName: 'Full name',\n      description: 'This column has a value getter and is not sortable.',\n      sortable: false,\n      width: 160,\n      valueGetter: (params) =>\n        `${params.getValue('first_name') || ''} ${params.getValue('last_name') || ''}`,\n    },\n    { field: 'email', headerName: 'Email', width: 180 },\n    { field: 'address', headerName: 'Address', width: 250 },\n    { field: 'city', headerName: 'City', width: 180 },\n    { field: 'country', headerName: 'Country', width: 180 },\n\n  ];\n  \n  const rows = props.users.map(x => {\n    return {\n      id: x['user_id'],\n      account_name: x['account_name'],\n      first_name: x['first_name'],\n      last_name: x['last_name'],\n      email: x['email'],\n      address: x['address'],\n      city: x['city'],\n      country: x['country'],\n    };\n  });\n\n  return (\n    <div style={{ height: 400, width: '100%' }}>\n      <Typography\n        variant=\"h3\"\n      >\n        Users in system\n      </Typography>\n      <DataGrid rows={rows} columns={columns} pageSize={5} checkboxSelection />\n    </div>\n  );\n}\n","import React from 'react';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport StoreIcon from '@material-ui/icons/Store';\nimport AttachMoneyIcon from '@material-ui/icons/AttachMoney';\nimport SupervisorAccountIcon from '@material-ui/icons/SupervisorAccount';\nimport FaceIcon from '@material-ui/icons/Face';\n\nconst iconSize = 8;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n\n  },\n  gridItem: {\n    height: theme.spacing(65),\n  },\n  cardTitle: {\n    display: \"flex\",\n    marginBottom: theme.spacing(1),\n  },\n  cardIcon: {\n    width: theme.spacing(iconSize),\n    height: theme.spacing(iconSize),\n    marginRight: theme.spacing(0.5),\n  },\n  cardTitleText: {\n    textDecoration: \"none\",\n    fontWeight: \"200\",\n    color: theme.palette.primary.contrastText,\n  },\n  cardContent: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"start\",\n  }\n}));\n\n\nfunction AdminHome(props) {\n    const classes = useStyles();\n    const theme = useTheme();\n\n    return (\n      <div classeName={classes.root}>\n        <Grid container spacing={3}>\n          <Grid item md={3} xs={12}>\n            <Card className={classes.gridItem} variant=\"outlined\">\n              <CardContent className={classes.cardContent}>\n                <div className={classes.cardTitle}>\n                  <StoreIcon className={classes.cardIcon}/>\n                  <Typography variant=\"h3\" classname={classes.cardTitleText}>\n                    Market\n                  </Typography>\n                </div>\n                <Typography variant=\"h5\" color={theme.palette.primary.contrastText} component=\"p\">\n                  {props.productsNum} products in total\n                </Typography>\n              </CardContent>\n            </Card>\n          </Grid> \n          <Grid item md={3} xs={12}>\n            <Card className={classes.gridItem} variant=\"outlined\">\n              <CardContent className={classes.cardContent}>\n                <div className={classes.cardTitle}>\n                  <FaceIcon className={classes.cardIcon}/>\n                  <Typography\n                    variant=\"h3\"\n                    classname={classes.cardTitleText}\n                  >\n                    Users\n                  </Typography>\n                </div>\n                <Typography variant=\"h5\" color={theme.palette.primary.contrastText} component=\"p\">\n                  {props.usersNum} users registered\n                </Typography>\n              </CardContent>\n            </Card>\n          </Grid> \n          <Grid item md={3} xs={12}>\n            <Card className={classes.gridItem} variant=\"outlined\">\n              <CardContent className={classes.cardContent}>\n                <div className={classes.cardTitle}>\n                  <AttachMoneyIcon className={classes.cardIcon}/>\n                  <Typography variant=\"h3\" classname={classes.cardTitleText}>\n                    Orders\n                  </Typography>\n                </div>\n                <Typography variant=\"h5\" color={theme.palette.primary.contrastText} component=\"p\">\n                  {props.ordersNum} orders in total\n                </Typography>\n              </CardContent>\n            </Card>\n          </Grid> \n          <Grid item md={3} xs={12}>\n            <Card className={classes.gridItem}  variant=\"outlined\">\n              <CardContent className={classes.cardContent}>\n                <div className={classes.cardTitle}>\n                  <SupervisorAccountIcon className={classes.cardIcon}/>\n                  <Typography variant=\"h3\" classname={classes.cardTitleText}>\n                    Admins\n                  </Typography>\n                </div>\n                <Typography variant=\"h5\" color={theme.palette.primary.contrastText} component=\"p\">\n                  {props.adminsNum} Admins in total\n                </Typography>\n              </CardContent>\n            </Card>\n          </Grid> \n        </Grid>\n      </div>\n    );\n}\n\nexport default AdminHome;","import React from 'react';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport { makeStyles } from '@material-ui/core/styles';\n\nfunction Alert(props) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    '& > * + *': {\n      marginTop: theme.spacing(2),\n    },\n  },\n}));\n\nexport default function CustomSnackBar(props) {\n  const classes = useStyles();\n\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    props.setOpen(false);\n  };\n\n  return (\n    <div className={classes.root}>\n        <Snackbar open={props.open} autoHideDuration={5000} onClose={handleClose}>\n          <Alert onClose={handleClose} severity={props.severity}>\n            {props.message}\n          </Alert>\n        </Snackbar>\n    </div>\n  );\n}","export const FUND_ALERT = {\n  severity: \"error\",\n  message: \"Sorry, you don't have enough fund in your account\",\n};\n\nexport const EMPTY_ALERT = {\n  severity: \"warning\",\n  message: \"Sorry, you cart is empty\",\n};\n\nexport const THANKS_ALERT= {\n  severity: \"success\",\n  message: \"Thanks for your purchase!\",\n};\n\nexport const NEGATIVE_NUM_ALERT = {\n  severity: \"error\",\n  message: \"Sorry, the entered number has to be positive\",\n};\n\nexport const EDIT_PRODUCT_SUCCESS_ALERT = {\n  severity: \"success\",\n  message: \"Product info has been updated\",\n};\n\nexport const ADD_PRODUCT_SUCCESS_ALERT = {\n  severity: \"success\",\n  message: \"The new product has been added\",\n};\n\nexport const UPDATE_ORDER_STATE_ALERT = {\n  severity: \"success\",\n  message: \"The order state has been update\",\n};\n\nexport const UPDATE_RECEIVE_ALERT = {\n  severity: \"success\",\n  message: \"The order state has been change to receive\",\n};\n\nexport const UPDATE_REFUND_ALERT = {\n  severity: \"success\",\n  message: \"The order state has been change to refund\",\n};\n\nexport const CHANGE_PASSWORD_ALERT = {\n  severity: \"success\",\n  message: \"The password has been change\",\n};\n\nexport const IMG_EMPTY_ALERT = {\n  severity: \"error\",\n  message: \"Sorry, your Image cannot be empty\",\n};\n\nexport const INVALID_ORDER_ID = {\n  severity: \"error\",\n  message: \"The order ID is invalid\",\n};\n","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from \"@material-ui/core/Typography\";\nimport { DataGrid } from '@material-ui/data-grid';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport axios from 'axios';\nimport { Grid } from '@material-ui/core';\nimport ImageIcon from '@material-ui/icons/Image';\nimport DoneIcon from '@material-ui/icons/Done';\nimport CustomSnackBar from '../CustomSnackbar';\nimport {\n  EDIT_PRODUCT_SUCCESS_ALERT as EDIT_ALERT,\n  ADD_PRODUCT_SUCCESS_ALERT as ADD_ALERT,\n  IMG_EMPTY_ALERT,\n  NEGATIVE_NUM_ALERT\n} from '../../utils/AlertInfo';\nconst useStyles = makeStyles((theme) => ({\n  form: {\n    marginTop: \"2rem\",\n  },\n}));\n\nexport default function ProductsManagement(props) {\n  const classes = useStyles();\n  const token = props.token;\n  const [products, setProducts] = useState([]);\n  const [reloadProducts, setReloadProducts] = useState(false);\n  const [csv, setCsv] = useState(null);\n  const [newProduct, setNewProduct] = useState({\n    name: \"\",\n    price: 0,\n    description: \"\",\n    delivery: 0,\n    img: null,\n  });\n  const [selectedProduct, setSelectedProduct] = useState({\n    id: 0,\n    name: \"\",\n    price: 0,\n    description: \"\",\n    delivery: 0,\n    img: null,\n  });\n\n  // const [isNewUploaded, setIsNewUploaded] = useState(false);\n  // const [isSelectedUploaded, setIsSelectedUploaded] = useState(false);\n  // const [isCsvUploaded, setIsCsvUploaded] = useState(false);\n  const [selectionModel, setSelectionModel] = useState([]);\n  const [alertOpen, setAlertOpen] = useState(false);\n  const [alertInfo, setAlertInfo] = useState({\n    severity: \"\",\n    message: \"\",\n  })\n\n  const columns = [\n    { field: 'id', headerName: 'Product ID', width: 150},\n    { field: \"name\", headerName: 'Product Name', width: 350 },\n    { field: \"price\", headerName: 'Price', width: 180 },\n    { field: \"rating\", headerName: 'Rating', width: 250 },\n    // { field: \"pic_link\", headerName: 'Amount', width: 100 },\n  ];\n\n  const rows = products.map(x => {\n    return {\n      \"id\": x[\"product_id\"],\n      \"name\": x[\"name\"],\n      \"price\": `$${x[\"price\"]}`,\n      \"rating\": `${x[\"rating\"]}/5`,\n    };\n  });\n\n  const handleNewProductChange = name => event => {\n    setNewProduct({\n      ...newProduct,\n      [name]: event.target.value\n    });\n  };\n\n  const handleSelectedProductChange = name => event => {\n    setSelectedProduct({\n      ...selectedProduct,\n      [name]: event.target.value\n    });\n  };\n\n  const handleAddProduct = (event) => {\n    event.preventDefault();\n    if (newProduct.price < 0) {\n      setAlertInfo(NEGATIVE_NUM_ALERT);\n      setAlertOpen(true);\n      return;\n    } else if (newProduct.img === null) {\n      setAlertInfo(IMG_EMPTY_ALERT);\n      setAlertOpen(true);\n      return;\n    }\n\n    let formData = new FormData();\n    formData.append('token', token);\n    formData.append('file', newProduct.img);\n    formData.append('name', newProduct.name);\n    formData.append('delivery', newProduct.delivery);\n    formData.append('description', newProduct.description);\n    formData.append('price', newProduct.price);\n\n    axios.post(\"/product/new\", \n      formData,\n      {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }\n    )\n    .then((response) => {\n      const data = response.data;\n      props.setUpdateProduct(true);\n      setAlertInfo(ADD_ALERT);\n      setAlertOpen(true);\n\n      console.log(data);\n      setReloadProducts(true);\n    })\n    .catch((err) => {});\n  };\n\n  const handleEditProduct = (event) => {\n    event.preventDefault();\n\n    if (selectedProduct.price < 0) {\n      setAlertInfo(NEGATIVE_NUM_ALERT);\n      setAlertOpen(true);\n      return;\n    } \n    let formData = new FormData();\n    formData.append('token', token);\n    formData.append('file', selectedProduct.img);\n    formData.append('id', selectedProduct.id);\n    formData.append('name', selectedProduct.name);\n    formData.append('delivery', selectedProduct.delivery);\n    formData.append('description', selectedProduct.description);\n    formData.append('price', selectedProduct.price);\n\n    console.log(formData);\n\n    axios.post(\"/product/edit\", \n      formData,\n      {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }\n    )\n    .then((response) => {\n      const data = response.data;\n\n      setAlertInfo(EDIT_ALERT);\n      setAlertOpen(true);\n\n      console.log(data);\n      setReloadProducts(true);\n    })\n    .catch((err) => {});\n  }\n\n  const handleNewFileUpload = (event) => {\n    setNewProduct({\n      ...newProduct,\n      img: event.target.files[0],\n    });\n    // setIsNewUploaded(true);\n  }\n\n  const handleSelectedFileUpload = (event) => {\n    // console.log(\"uploaded!\");\n    console.log(event.target.files[0]);\n    setSelectedProduct({\n      ...selectedProduct,\n      img: event.target.files[0],\n    });\n    console.log(event.target.files[0].type.replace(/(.*)\\//g, ''));\n    // setIsSelectedUploaded(true);\n  }\n\n\n  // reload products when database changed\n  useEffect((() => {\n    axios.get('/product/get_all', {\n      params: {\n        token: \"\",\n        page: -1,\n      }\n    })\n    .then((response) => {\n      const data = response.data[\"product_lst\"];\n      setReloadProducts(false);\n      setProducts(data);\n    })\n    .catch((err) => {});\n  }), [reloadProducts]);\n\n  // load products based on current selection\n  useEffect((() => {\n    if (selectionModel.length !== 0) {    \n      axios.get('/product/get_info', {\n          params: {\n            id: parseInt(selectionModel),\n          }\n        })\n      .then((response) => {\n        const data = response.data;\n        \n        setSelectedProduct({\n          id: data['id'],\n          name: data['name'],\n          price: data['price'],\n          description: data['description'],\n          delivery: data['delivery'],\n          // rating: data['rating'],\n          // img: data['pic_link'],\n        });\n      })\n      .catch((err) => {});\n    }\n  }), [selectionModel]);\n\n  const handleCsvChange = (event) => {\n    console.log(event.target.files[0]);\n    setCsv(event.target.files[0]);\n  }\n  \n  const handleCsvSubmit = (event) => {\n    event.preventDefault();\n    let formData = new FormData();\n    formData.append('token', token);\n    formData.append('file', csv);\n    axios.post('/product/import_csv', \n      formData,\n    {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    }).then(res => {\n      if (res.status === 200) {\n        setAlertInfo({\n          severity: \"Success\",\n          message: res.data.status,\n        });\n        props.setUpdateProduct(true);\n        setAlertOpen(true);\n        setReloadProducts(true);\n      }\n    }).catch((err) => {});\n  }\n  return (\n    <div style={{width: '100%'}}>\n      <Typography variant=\"h5\">Products in the system</Typography>\n      <DataGrid\n        rows={rows} \n        columns={columns} \n        pageSize={5} \n        // checkboxSelection \n        autoHeight\n        selectionModel={selectionModel}\n        hideFooterSelectedRowCount\n        onSelectionModelChange={(selection) => {\n          const newSelectionModel = selection.selectionModel;\n\n          if (newSelectionModel.length > 1) {\n            const selectionSet = new Set(selectionModel);\n            const result = newSelectionModel.filter(\n              (s) => !selectionSet.has(s)\n            );\n\n            setSelectionModel(result);\n          } else {\n            setSelectionModel(newSelectionModel);\n          }\n        }}\n      />\n      <Grid container>\n        <Grid container item xs={6}>\n          <form className={classes.form} onSubmit={handleAddProduct}>\n            <Grid\n              container\n              spacing={2}\n              xs={12}\n            >\n              <Grid item xs={12}>\n                <Typography variant=\"h5\" style={{marginBottom: \"1rem\"}}>\n                  Add a New Product\n                </Typography>\n              </Grid>\n              <Grid\n                container\n                item\n                xs={12}\n                spacing={2}\n              >\n                <Grid item xs={5}>\n                  <TextField\n                    required\n                    id=\"product-name\"\n                    label=\"Product Name\"\n                    placeholder=\"Product Name\"\n                    variant=\"outlined\"\n                    onChange={handleNewProductChange('name')}\n                    InputLabelProps={{shrink: true}}\n                    style={{\n                      marginRight: \"1rem\",\n                      width: \"100%\",\n                    }}\n                  />\n                </Grid>\n                <Grid item xs={2}>\n                  <TextField\n                    required\n                    id=\"product-price\"\n                    label=\"Price\"\n                    placeholder=\"Product Price\"\n                    type=\"number\"\n                    variant=\"outlined\"\n                    onChange={handleNewProductChange('price')}\n                    inputProps={{\n                      step: 1,\n                      min: 0,\n                    }}\n                    value={newProduct.price}\n                    style={{\n                      width: \"100%\",\n                    }}\n                  />\n                </Grid>\n                <Grid item xs={3}>\n                  <TextField\n                    required\n                    id=\"product-delivery\"\n                    label=\"Delivery Days\"\n                    placeholder=\"Delivery Days\"\n                    type=\"number\"\n                    variant=\"outlined\"\n                    onChange={handleNewProductChange('delivery')}\n                    inputProps={{\n                      step: 1,\n                      min: 0,\n                    }}\n                    value={newProduct.delivery}\n                    style={{\n                      width: \"100%\",\n                    }}\n                  />\n                </Grid>\n              </Grid>\n              <Grid\n                container\n                item\n                xs={12}\n                spacing={2}\n              >\n                <Grid item xs={10}>\n                  <TextField\n                    required\n                    id=\"product-description\"\n                    label=\"Description\"\n                    placeholder=\"Product Description\"\n                    variant=\"outlined\"\n                    onChange={handleNewProductChange('description')}\n                    style={{\n                      marginRight: \"1rem\",\n                      width: \"100%\",\n                    }}\n                    multiline\n                    rows={4}\n                    rowsMax={4}\n                  />\n                </Grid>\n              </Grid>\n              <Grid\n                container\n                item\n                xs={12}\n                spacing={2}\n              >\n                <Grid item xs={5}>\n                  { newProduct.img == null &&\n                    <Button\n                      variant=\"contained\"\n                      component=\"label\"\n                      color=\"primary\"\n                      style={{\n                        width: \"100%\"\n                      }}\n                    >\n                      <ImageIcon />Upload Image\n                      <input\n                        type=\"file\"\n                        accept=\"image/*\"\n                        hidden\n                        onChange={handleNewFileUpload}\n                      />\n                    </Button>\n                  }\n                  { newProduct.img != null &&\n                    <Button\n                      variant=\"contained\"\n                      component=\"label\"\n                      color=\"primary\"\n                      style={{\n                        width: \"100%\"\n                      }}\n                    >\n                      <DoneIcon />Image Uploaded\n                      <input\n                        type=\"file\"\n                        accept=\"image/*\"\n                        hidden\n                        onChange={handleNewFileUpload}\n                      />\n                    </Button>\n                  }\n                </Grid>\n                <Grid item xs={5}>\n                  <Button\n                    type=\"submit\"\n                    variant=\"contained\"\n                    color=\"secondary\"\n                    style={{\n                      width: \"100%\",\n                    }}\n                  >\n                    Add New Product\n                  </Button>\n                </Grid>\n              </Grid>\n            </Grid>\n          </form>\n        </Grid>\n        <Grid container item xs={6}>\n          <form className={classes.form} onSubmit={handleEditProduct}>\n            <Grid\n              container\n              spacing={2}\n            >\n            <Grid item xs={12}>\n              <Typography variant=\"h5\" style={{marginBottom: \"1rem\"}}>\n                Edit an Existed Product (Current Selected: id-{selectionModel})\n              </Typography>\n            </Grid>\n              <Grid\n                container\n                item\n                xs={12}\n                spacing={2}\n              >\n                <Grid item xs={5}>\n                  <TextField\n                    required\n                    id=\"product-name\"\n                    label=\"Name\"\n                    placeholder=\"Product Name\"\n                    variant=\"outlined\"\n                    onChange={handleSelectedProductChange('name')}\n                    InputLabelProps={{shrink: true}}\n                    style={{\n                      marginRight: \"1rem\",\n                      width: \"100%\",\n                    }}\n                    value={selectedProduct.name}\n                  />\n                </Grid>\n                <Grid item xs={2}>\n                  <TextField\n                    required\n                    id=\"product-price\"\n                    label=\"Price\"\n                    // placeholder=\"Product Price\"\n                    type=\"number\"\n                    variant=\"outlined\"\n                    onChange={handleSelectedProductChange('price')}\n                    inputProps={{\n                      step: 1,\n                      min: 0,\n                    }}\n                    style={{\n                      width: \"100%\",\n                    }}\n                    value={selectedProduct.price}\n                  />\n                </Grid>\n                <Grid item xs={3}>\n                  <TextField\n                    required\n                    id=\"selected-product-delivery\"\n                    label=\"Delivery Days\"\n                    // placeholder=\"Product Price\"\n                    type=\"number\"\n                    variant=\"outlined\"\n                    onChange={handleSelectedProductChange('delivery')}\n                    inputProps={{\n                      step: 1,\n                      min: 0,\n                    }}\n                    value={selectedProduct.delivery}\n                    InputLabelProps={{shrink: true}}\n                    style={{\n                      width: \"100%\",\n                    }}\n                  />\n                </Grid>\n              </Grid>\n              <Grid\n                container\n                item\n                xs={12}\n                spacing={2}\n              >\n                <Grid item xs={10}>\n                  <TextField\n                    required\n                    id=\"product-description\"\n                    label=\"Description\"\n                    // placeholder=\"Product Description\"\n                    variant=\"outlined\"\n                    onChange={handleSelectedProductChange('description')}\n                    style={{\n                      marginRight: \"1rem\",\n                      width: \"100%\",\n                    }}\n                    multiline\n                    rows={4}\n                    rowsMax={4}\n                    value={selectedProduct.description}\n                  />\n                </Grid>\n              </Grid>\n              <Grid\n                container\n                item\n                xs={12}\n                spacing={2}\n              >\n                <Grid item xs={5}>\n                  { selectedProduct.img == null &&\n                    <Button\n                      variant=\"contained\"\n                      component=\"label\"\n                      color=\"primary\"\n                      style={{\n                        width: \"100%\"\n                      }}\n                    >\n                      <ImageIcon />Upload New Image\n                      <input\n                        type=\"file\"\n                        accept=\"image/*\"\n                        hidden\n                        onChange={handleSelectedFileUpload}\n                      />\n                    </Button>\n                  }\n                  { selectedProduct.img != null &&\n                    <Button\n                      variant=\"contained\"\n                      component=\"label\"\n                      color=\"primary\"\n                      style={{\n                        width: \"100%\"\n                      }}\n                    >\n                      <DoneIcon />Image Uploaded\n                      <input\n                        type=\"file\"\n                        accept=\"image/*\"\n                        hidden\n                        onChange={handleSelectedFileUpload}\n                      />\n                    </Button>\n                  }\n                </Grid>\n                <Grid item xs={5}>\n                  <Button\n                    type=\"submit\"\n                    variant=\"contained\"\n                    color=\"secondary\"\n                    style={{\n                      width: \"100%\",\n                    }}\n                  >\n                    Confirm Edit\n                  </Button>\n                </Grid>\n              </Grid>\n            </Grid>\n          </form>\n        </Grid>\n          <Grid item xs={10}>\n          <form onSubmit={handleCsvSubmit}>\n            <Typography variant=\"h5\" style={{marginBottom: \"1rem\", marginTop: \"20px\"}}>\n                Import CSV File\n              </Typography>\n            \n            <Grid item xs={4}>\n                <Button\n                  variant=\"contained\"\n                  component=\"label\"\n                  color=\"primary\"\n                  style={{\n                    width: \"100%\"\n                  }}\n                >\n                  {csv == null ? \"Upload a CSV file\" : \"CSV Uploaded\"}\n                  <input\n                    type=\"file\"\n                    accept=\".csv\"\n                    hidden\n                    onChange={handleCsvChange}\n                  />\n                </Button>\n            </Grid>\n            <Grid item xs={4}>\n              <Button\n                  type=\"submit\"\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  style={{\n                    width: \"100%\",\n                    marginTop: \"20px\"\n                  }}\n                >Submit\n              </Button>\n            </Grid>\n            </form>\n          </Grid>\n      </Grid>\n      {alertOpen && \n        <CustomSnackBar \n          severity={alertInfo.severity}\n          message={alertInfo.message}\n          open={alertOpen}\n          setOpen={setAlertOpen}\n        />\n      }\n    </div>\n  );\n}\n\n","export const INVALID_TOKEN = 460;\nexport const INVALID_USERNAME = 461;\nexport const INVALID_EMAIL = 462;\nexport const EXISTED_USERNAME = 463;\nexport const INCORRECT_USERNAME = 464;\nexport const INVALID_PASSWORD = 465;\nexport const NOT_ENOUGH_FUND = 466;\nexport const INVALID_ID = 467;\nexport const EXISTED_EMAIL = 468;\nexport const NO_FILE = 469;\n","import React, { useState } from 'react';\nimport Typography from \"@material-ui/core/Typography\";\nimport {\n  DataGrid\n} from \"@material-ui/data-grid\";\nimport moment from 'moment';\nimport Button from \"@material-ui/core/Button\";\nimport axios from 'axios';\nimport { Grid, TextField } from '@material-ui/core';\nimport {\n  UPDATE_ORDER_STATE_ALERT as UPDATE_ALERT,\n  INVALID_ORDER_ID\n} from '../../utils/AlertInfo';\nimport { INVALID_ID } from '../../utils/ErrorCode';\nimport CustomSnackBar from '../CustomSnackbar';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\n\nexport default function OrdersManagement(props) {\n  const [orders, setOrders] = useState(props.orders);\n  const token = props.token;\n  const [info, setInfo] = useState({\n    orderId: '',\n    orderState: ''\n  })\n  const [alertOpen, setAlertOpen] = useState(false);\n  const [alertInfo, setAlertInfo] = useState({\n    severity: \"\",\n    message: \"\",\n  }) \n\n  const handleSubmit = () => event =>{\n    event.preventDefault();\n    axios.post(\"/order/statechange\", {\n      token,\n      id: info.orderId,\n      state: info.orderState\n    }).then(res => {\n      if(res.status === 200) {\n        console.log(res);\n        setAlertInfo(UPDATE_ALERT);\n        setAlertOpen(true);\n        axios.get(\"/admin/all_order\", {\n          params: {\n            token,\n          }\n        })\n        .then((response) => {\n          const data = response.data;\n          setOrders(data);\n        })\n      } \n      else if (res.status === INVALID_ID) {\n        setAlertInfo(INVALID_ORDER_ID);\n        setAlertOpen(true);\n      }\n    })\n  }\n\n  const handleChange = (name) => event => {\n    setInfo({\n      ...info,\n      [name]: event.target.value\n    });\n  }\n\n  const columns = [\n    { field: 'id', headerName: 'Order ID', width: 120},\n    { field: 'order_state', headerName: 'State', width: 150},\n    { field: 'user_id', headerName: 'User ID', width: 100 },\n    { field: 'product_id', headerName: 'Product ID', width: 150 },\n    { field: 'product_name', headerName: 'Product Name', width: 250 },\n    { field: 'amount', headerName: 'Amount', width: 100 },\n    { field: 'cost', headerName: 'Cost', width: 100 },\n    { field: 'purchase_date', headerName: 'Purchase Date', width: 150 }    \n  ];\n\n  const rows = orders.map(x => {\n    return {\n      \"id\": x['order_id'],\n      \"order_state\": x['state_in_text'],\n      \"user_id\": x['user_id'],\n      \"product_id\": x['product_id'],\n      \"product_name\": x['product_name'],\n      \"amount\": x['amount'],\n      \"cost\": x['cost'],\n      \"purchase_date\": moment(parseFloat( x['purchase_date']*1000)).format(\"YYYY-MM-DD HH:mm:ss\"),\n    };\n  });\n\n  return (\n    <div style={{ width: '100%'}}>\n      <Typography variant=\"h5\">Orders in the system</Typography>\n      <DataGrid \n        rows={rows} \n        columns={columns} \n        pageSize={7} \n        autoHeight\n        // checkboxSelection \n      />\n      <form onSubmit={handleSubmit()}>\n            <Grid\n              container\n              spacing={2}\n              xs={12}\n            >\n              <Grid item xs={12}>\n                <Typography variant=\"h5\" style={{marginBottom: \"1rem\", marginTop: \"20px\"}}>\n                  Update Order State\n                </Typography>\n              </Grid>\n              <Grid item xs={2}>\n                  <TextField\n                    required\n                    label=\"Order Id\"\n                    placeholder=\"Order Id\"\n                    variant=\"outlined\"\n                    onChange={handleChange('orderId')}\n                    InputLabelProps={{shrink: true}}\n                    style={{\n                      marginRight: \"1rem\",\n                      width: \"100%\",\n                    }}\n                  />\n                </Grid>\n                <Grid item xs={3}>\n                  <FormControl variant=\"outlined\" style={{\n                      width: \"100%\",\n                    }}>\n                    <InputLabel id=\"demo-simple-select-label\">State Code</InputLabel>\n                    <Select\n                      labelId=\"demo-simple-select-label\"\n                      id=\"demo-simple-select\"\n                      value={info.orderState}\n                      onChange={handleChange('orderState')}\n                      >\n                      <MenuItem value={'0'}>Just purchase</MenuItem>\n                      <MenuItem value={'1'}>Delivering</MenuItem>\n                      <MenuItem value={'2'}>Done</MenuItem>\n                      <MenuItem value={'3'}>Cancelled / Refunded</MenuItem>\n                    </Select>\n                  </FormControl>\n                </Grid>\n                <Grid item xs={2}>\n                  <Button\n                    type=\"submit\"\n                    variant=\"contained\"\n                    color=\"secondary\"\n                    style={{\n                      width: \"100%\",\n                      height: \"50px\"\n                    }}\n                  >\n                    Update State\n                  </Button>\n                </Grid>\n            </Grid>\n      </form>\n      {alertOpen && \n        <CustomSnackBar \n          severity={alertInfo.severity}\n          message={alertInfo.message}\n          open={alertOpen}\n          setOpen={setAlertOpen}\n        />\n      }\n    </div>\n  );\n}","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from \"@material-ui/core/Typography\";\nimport { DataGrid } from '@material-ui/data-grid';\nimport TextField from '@material-ui/core/TextField';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport axios from 'axios';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport IconButton from '@material-ui/core/IconButton';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\n\nconst INVALID_EMAIL = 462;\nconst INVALID_NAME = 464;\nconst EXISTED_NAME = 463;\nconst EXISTED_EMAIL = 468;\n\nconst useStyles = makeStyles((theme) => ({\n  form: {\n    marginTop: \"2rem\",\n  },\n}));\n\nexport default function AdminsManagement(props) {\n  const classes = useStyles();\n\n  const token = props.token;\n  const [admins, setAdmins] = useState([]);\n  const [newAdmin, setNewAdmin] = useState({\n    name: \"\",\n    password: \"\",\n    email: \"\",\n    showPassword: true,\n  })\n  const [loading, setLoading] = useState(false);\n  const [state, setState] = useState({\n    nameError: false,\n    emailError: false,\n    passwordError: false,\n    help_text: \"\"\n  });\n\n  const handle_error = () => event => {\n    setState({\n      nameError: false,\n      emailError: false,\n      passwordError: false,\n      help_text: \"\"\n    });\n  };\n\n  const handleChange = name => event => {\n    setNewAdmin({\n      ...newAdmin,\n      [name]: event.target.value\n    });\n  };\n\n  const handleClickShowPassword = () => {\n    setNewAdmin({ ...newAdmin, showPassword: !newAdmin.showPassword });\n  };\n\n  const handleMouseDownPassword = (event) => {\n    event.preventDefault();\n  };\n\n  const handleAddAdmin = (event) => {\n    event.preventDefault();\n\n    axios.post(\"/admin/add_admin\", {\n      token,\n      name: newAdmin.name,\n      password: newAdmin.password,\n      email: newAdmin.email,\n    })\n    .then((response) => {\n      const data = response.data;\n      if (data.code === INVALID_EMAIL) {\n        // invalid email\n        setState({\n          ...state,\n          emailError: true,\n          help_text: \"The entered email is invalid\"\n        });\n      } else if (data.code === INVALID_NAME) {\n        // invalid user name\n        setState({\n          nameError: true,\n          help_text: \"The admin name is invalid\"\n        });\n      } else if (data.code === EXISTED_NAME) {\n        // username exist\n        setState({\n          nameError: true,\n          help_text: \"The admin name is already existed\"\n        });\n      } else if (data.code === EXISTED_EMAIL) {\n        // email existed\n        setState({\n          ...state,\n          emailError: true,\n          help_text: \"The admin email is already existed\"\n        });\n      } else {\n        setLoading(true);\n      }\n      \n    })\n    .catch((err) => {});\n  }\n\n  useEffect((() => {\n    axios.get(\"/admin/all_admin\", {\n      params: {\n        token,\n      }\n    })\n    .then((response) => {\n      const data = response.data;\n\n      setAdmins(data);\n    })\n    .catch((err) => {});\n  }), [loading, token]);\n\n\n\n  const columns = [\n    { field: \"id\", headerName: 'Admin ID', width: 150},\n    { field: \"username\", headerName: 'Admin Name', width: 180 },\n    { field: \"email\", headerName: 'Admin Email', width: 250 },\n  ];\n\n  const rows = admins.map(x => {\n    return {\n      \"id\": x[\"admin_id\"],\n      \"username\": x[\"username\"],\n      \"email\": x[\"email\"],\n    };\n  });\n\n  return (\n    <div style={{ width: '100%'}}>\n      <Typography variant=\"h5\">Admins in the system</Typography>\n      <DataGrid\n        rows={rows}\n        columns={columns}\n        pageSize={7}\n        checkboxSelection\n        autoHeight\n      />\n      <form className={classes.form} onSubmit={handleAddAdmin}>\n        <Typography variant=\"h5\" style={{marginBottom: \"1rem\"}}>\n          Add a New Admin\n        </Typography>\n        <Box\n          display=\"flex\"\n          alignItems=\"center\"\n        >\n          <TextField\n            required\n            id=\"admin-name\"\n            label=\"Admin Name\"\n            placeholder=\"Admin Name\"\n            variant=\"outlined\"\n            error={state.nameError}\n            helperText={state.help_text}\n            onChange={handleChange('name')}\n            onClick={handle_error()}\n            style={{\n              marginRight: \"1rem\",\n            }}\n          />\n          <TextField\n            required\n            id=\"admin-email\"\n            label=\"Admin Email\"\n            placeholder=\"Admin Email\"\n            variant=\"outlined\"\n            error={state.emailError}\n            helperText={state.help_text}\n            onChange={handleChange('email')}\n            onClick={handle_error()}\n            style={{\n              marginRight: \"1rem\",\n            }}\n          />\n          <OutlinedInput\n            id=\"outlined-adornment-password\"\n            type={newAdmin.showPassword ? 'text' : 'password'}\n            value={newAdmin.password}\n            label=\"Admin Password\"\n            placeholder=\"Admin Password\"\n            variant=\"outlined\"\n            error={state.passwordError}\n            helperText={state.help_text}\n            onChange={handleChange('password')}\n            onClick={handle_error()}\n            endAdornment={\n              <InputAdornment position=\"end\">\n                <IconButton\n                  aria-label=\"toggle password visibility\"\n                  onClick={handleClickShowPassword}\n                  onMouseDown={handleMouseDownPassword}\n                  edge=\"end\"\n                >\n                  {newAdmin.showPassword ? <Visibility /> : <VisibilityOff />}\n                </IconButton>\n              </InputAdornment>\n            }\n            labelWidth={70}\n          />\n\n          {/* <TextField\n            required\n            type={newAdmin.showPassword ? 'text' : 'password'}\n            value={newAdmin.password}\n            id=\"admin-password\"\n            label=\"Admin Password\"\n            placeholder=\"Admin Password\"\n            variant=\"outlined\"\n            error={state.passwordError}\n            helperText={state.help_text}\n            onChange={handleChange('password')}\n            onClick={handle_error()}\n          /> */}\n          <Button \n            type=\"submit\"\n            variant=\"contained\" \n            color=\"primary\"\n            style={{\n              marginLeft: \"1rem\",\n              height: \"100%\",\n            }}\n          >\n            Add\n          </Button>\n        </Box>\n      </form>\n    </div>\n  );\n}","import React, { useState } from 'react';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport List from '@material-ui/core/List';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { Link } from 'react-router-dom';\nimport Avatar from '@material-ui/core/Avatar';\nimport Box from '@material-ui/core/Box';\nimport AttachMoneyIcon from '@material-ui/icons/AttachMoney';\nimport StoreIcon from '@material-ui/icons/Store';\nimport UsersDataGrid from './admin/UsersDataGrid';\nimport HomeIcon from '@material-ui/icons/Home';\nimport AdminHome from './AdminHome';\nimport axios from 'axios';\nimport AuthContext from '../AuthContext';\nimport Button from '@material-ui/core/Button';\nimport SupervisorAccountIcon from '@material-ui/icons/SupervisorAccount';\nimport Divider from '@material-ui/core/Divider';\nimport ProductsManagement from './admin/ProductsManagement';\nimport OrdersManagement from './admin/OrdersManagement';\nimport AdminsManagement from './admin/AdminsManagement';\nimport FaceIcon from '@material-ui/icons/Face';\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    display: \"flex\",\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n    whiteSpace: 'nowrap',\n  },\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  drawerContainer: {\n    overflow: 'auto',\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n  },\n  logo: {\n    margin: \"auto\",\n    textAlign: 'center',\n    maxWidth: \"auto\",\n    maxHeight: '7vh',\n    marginRight: \"0.5rem\",\n  },\n  title: {\n    flexGrow: 1,\n  },\n  logoutButton: {\n\n  }\n}));\n\n\n\nexport default function AdminDrawer(props) {\n  const classes = useStyles();\n  const theme = useTheme();\n\n  const token = React.useContext(AuthContext).admin;\n  const profile = props.profile;\n\n\n  const [display, setDisplay] = useState({\n    home: true,\n    products: false,\n    users: false,\n    orders: false,\n    admins: false,\n  });\n\n  const [products, setProducts] = useState([]);\n  const [updateProduct, setUpdateProduct] = useState(false);\n  const [users, setUsers] = useState([]);\n  const [orders, SetOrders] = useState([]);\n  const [admins, setAdmins] = useState([]);\n\n  React.useEffect((() => {\n    axios.get('/product/get_all', {\n      params: {\n        token: \"\",\n        page: -1,\n      }\n    })\n    .then((response) => {\n      const data = response.data[\"product_lst\"];\n      setUpdateProduct(false);\n      setProducts(data);\n    })\n    .catch((err) => {});\n    \n    axios.get('admin/all_user', {\n      params: {\n        token,\n      }\n    })\n    .then((response) => {\n      const data = response.data;\n\n      setUsers(data);\n    })\n    .catch((err) => {});\n\n    axios.get(\"/admin/all_order\", {\n      params: {\n        token,\n      }\n    })\n    .then((response) => {\n      const data = response.data;\n\n      SetOrders(data);\n    })\n    .catch((err) => {});\n\n    axios.get(\"/admin/all_admin\", {\n      params: {\n        token,\n      }\n    })\n    .then((response) => {\n      const data = response.data;\n\n      setAdmins(data);\n    })\n    .catch((err) => {});\n\n\n  }), [token, updateProduct]);\n\n  const renderUsers = (\n    <UsersDataGrid token={token} users={users} />\n  );\n\n  const renderOrders = (\n    // <OrdersDataGrid />\n    <OrdersManagement token={token} orders={orders} />\n  );\n\n  const renderAdminHome = (\n    <AdminHome \n      usersNum={users.length}\n      ordersNum={orders.length}\n      adminsNum={admins.length}\n      productsNum={products.length}\n      profile={profile} \n      token={token}\n    />\n  );\n\n  const renderProducts = (\n    <ProductsManagement token={token} products={products} setUpdateProduct={setUpdateProduct}/>\n  );\n\n  const renderAdmins = (\n    <AdminsManagement token={token} admins={admins} />\n  );\n\n  const displayHome = () => {\n    setDisplay({\n      home: true,\n      products: false,\n      users: false,\n      orders: false,\n      admins: false,\n    });\n  };\n\n  const displayUsers = () => {\n    setDisplay({\n      home: false,\n      products: false,\n      users: true,\n      orders: false,\n      admins: false,\n    });\n\n  };\n\n  const displayOrders = () => {\n    setDisplay({\n      home: false,\n      products: false,\n      users: false,\n      orders: true,\n      admins: false,\n    });\n  };\n\n  const displayProducts = () => {\n    setDisplay({\n      home: false,\n      products: true,\n      users: false,\n      orders: false,\n      admins: false,\n    });\n  }\n\n  const displayAdmins = () => {\n    setDisplay({\n      home: false,\n      products: false,\n      users: false,\n      orders: false,\n      admins: true,\n    });\n  }\n\n  const handleLogout = (event) => {\n    axios.post('/admin/logout', { token })\n      .then((response) => {\n        console.log(response);\n      \n        localStorage.removeItem('admin_token');\n        localStorage.removeItem('admin_id');\n\n        // after log out, redirect to home page\n        props.history.push('/');\n      }) \n      .catch((err) => {console.log(err)});\n  };\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar position=\"fixed\" className={classes.appBar} elevation={0}>\n        <Toolbar>\n          <Typography\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\ttextDecoration: \"none\",\n              fontWeight: \"200\",\n              color: theme.palette.primary.contrastText\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\tcomponent={Link}\n\t\t\t\t\t\tto={'/'}\n\t\t\t\t\t\tclassName={classes.title} \n\t\t\t\t\t\tvariant=\"h4\"\n\t\t\t\t\t\tnoWrap\n\t\t\t\t\t>\n            V-Gifts | Admin Page\n          </Typography>\n          <Button className={classes.logoutButton} variant=\"contained\" color=\"secondary\" onClick={handleLogout}>\n            Log out\n          </Button>\n        </Toolbar>\n      </AppBar>\n      <Drawer\n        className={classes.drawer}\n        variant=\"permanent\"\n        classes={{\n          paper: classes.drawerPaper,\n        }}\n      >\n        <Toolbar />\n        <div className={classes.drawerContainer}>\n          <List>\n            <ListItem button key={\"Home\"} onClick={displayHome}>\n              <ListItemIcon><HomeIcon /></ListItemIcon>\n              <ListItemText primary={\"Home\"} />\n            </ListItem>\n            <ListItem button key={\"Market\"} onClick={displayProducts}>\n              <ListItemIcon><StoreIcon /></ListItemIcon>\n              <ListItemText primary={\"Market\"} />\n            </ListItem>\n            <ListItem button key={\"Users\"} onClick={displayUsers}>\n              <ListItemIcon><FaceIcon /></ListItemIcon>\n              <ListItemText primary={\"Users\"} />\n            </ListItem>\n            <ListItem button key={\"Orders\"} onClick={displayOrders}>\n              <ListItemIcon><AttachMoneyIcon /></ListItemIcon>\n              <ListItemText primary={\"Orders\"} />\n            </ListItem>\n            <Divider />\n            <ListItem button key={\"Admins\"} onClick={displayAdmins}>\n              <ListItemIcon><SupervisorAccountIcon /></ListItemIcon>\n              <ListItemText primary={\"Admins\"} />\n            </ListItem>\n          </List>\n        </div>\n      </Drawer>\n      <main className={classes.content}>\n        <Toolbar />\n        <Box\n          display=\"flex\" \n          flexDirection=\"column\"\n          alignItems=\"center\"\n        >\n          <Avatar \n            alt=\"Admin Avartar\"\n            src=\"/img/admin/admin-1.png\"\n            variant=\"rounded\" \n            style={{\n              border: `1px solid ${theme.palette.primary.contrastText}`,\n              width: theme.spacing(20),\n              height: theme.spacing(20),\n              marginBottom: theme.spacing(5),\n            }}\n          />\n          <Typography variant=\"h5\">\n            {`Admin: ${profile['name']}(${profile['email']})`}\n          </Typography>\n        </Box>\n        {display.home && renderAdminHome}\n        {display.products && renderProducts}\n        {display.users && renderUsers}\n        {display.orders && renderOrders}\n        {display.admins && renderAdmins}\n      </main>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport axios from 'axios';\nimport AuthContext from '../AuthContext';\n\nimport AdminDrawer from '../components/AdminDrawer';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n\n}));\n\n\n\n\nfunction AdminPage(props) {\n    // eslint-disable-next-line\n    const classes = useStyles();\n    const token = React.useContext(AuthContext).admin;\n    const [profile, setProfile] = useState({\n      name: \"\",\n      email: \"\",\n    });\n\n    React.useEffect((() => {\n      axios.get('admin/profile', {\n        params: {\n          token: token,\n        }\n      })\n      .then((response) => {\n        const data = response.data;\n        setProfile({\n          name: data.username,\n          email: data.email,\n        });\n      })\n      .catch((err) => {});\n    }), [token]);\n\n    return (\n      <div>\n        <AdminDrawer history={props.history} profile={profile}/>\n      </div>\n    );\n}\n\nexport default AdminPage;","import React from 'react';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport { Link } from 'react-router-dom';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n  loginButton: {\n    marginRight: theme.spacing(2),\n    // width: \"5rem\",\n  },\n  registerButton: {\n    //width: \"5rem\",\n  },\n  toolBar: {\n    minHeight: \"10vh\",\n  },\n  logo: {\n    margin: \"auto\",\n    textAlign: 'center',\n    maxWidth: \"auto\",\n    maxHeight: '7vh',\n    marginRight: \"0.5rem\",\n  },\n}));\n\nexport default function ButtonAppBar() {\n  const classes = useStyles();\n  const theme = useTheme();\n\n  return (\n    <div className={classes.root}>\n      <AppBar\n        position=\"static\" \n        style={{\n          boxShadow: 'none',\n          backgroundColor: theme.palette.primary.main,\n        }}\n      >\n        <Toolbar className={classes.toolBar} >\n          <img \n            className={classes.logo} \n            src=\"img/logo/logo-1.png\" \n            alt=\"V-Gifts logo\"\n          />\n          <Typography\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\ttextDecoration: \"none\",\n              fontWeight: \"200\",\n              color: theme.palette.primary.contrastText\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\tcomponent={Link}\n\t\t\t\t\t\tto={'/'}\n\t\t\t\t\t\tclassName={classes.title} \n\t\t\t\t\t\tvariant=\"h4\"\n\t\t\t\t\t\tnoWrap\n\t\t\t\t\t>\n            V-Gifts\n          </Typography>\n\n          <Button \n            className={classes.loginButton} \n            color=\"inherit\" \n            variant=\"outlined\"\n            component={Link}\n            to={\"/login\"}\n          >\n            Log in\n          </Button>\n          <Button \n            className={classes.registerButton} \n            color=\"inherit\" \n            variant=\"outlined\"\n            component={Link}\n            to={\"/register\"}\n          >\n            Register\n          </Button>\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}\n","import React from 'react';\nimport NavBarHome from '../components/NavBarHome';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Box from '@material-ui/core/Box';\nimport { Link } from 'react-router-dom';\n\nconst useStyles = makeStyles((theme) => ({\n  intro: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    height: \"90vh\",\n    width: \"100%\",\n    boxShadow: 'none',\n  },\n  joinButton: {\n    marginRight: \"1rem\",\n  },\n}));\n\nfunction HomePage(props) {\n  const classes = useStyles();\n  const theme = useTheme();\n\n  return (\n    <div className={classes.root}>\n      <NavBarHome className={classes.nav}/>\n      <Box\n        className={classes.intro}\n        style={{\n          // backgroundColor: theme.palette.secondary.main,\n          backgroundImage: `url(/img/home/home-2.jpg)`,\n          backgroundSize: 'cover',\n        }}\n      >\n        <Typography\n          component=\"h1\" \n          variant=\"h2\" \n          align=\"center\" \n          style={{\n            color: theme.palette.primary.contrastText\n          }} \n          gutterBottom>\n          Welcome to <b>V-Gifts</b>\n        </Typography>\n        <Typography \n          variant=\"h3\" \n          align=\"center\" \n          style={{\n            color: theme.palette.primary.contrastText\n          }} \n          paragraph>\n          Join us today and receive $2000! \n        </Typography>\n        <Box\n          display=\"flex\"\n          style={{\n            marginTop: \"2rem\"\n          }}\n        >\n          <Button\n            color='primary'\n            variant=\"contained\"\n            className={classes.joinButton}\n            component={Link}\n            to={'/register'}\n          >\n            Join\n          </Button>\n          <Button\n            color='secondary'\n            variant='outlined'\n            component={Link}\n            to={'/products'}\n          >\n            Browse the market\n          </Button>\n        </Box>\n        <Typography\n          style={{\n            color: theme.palette.primary.contrastText,\n            marginTop: \"0.5rem\",\n          }} \n        >\n          Already a member? Log in <b>\n            <Link to=\"./login\" style={{color: theme.palette.primary.contrastText}}>\n              Here\n            </Link>\n          </b>\n        </Typography>\n      </Box>\n    </div>\n  );\n}\n\n// function HomePage(props) {\n//     return (\n// \t\t<div className=\"App\">\n// \t\t\t<main>\n// \t\t\t\t<h1 id=\"website-name\" className=\"mt-3\">V-Gifts</h1>\n// \t\t\t\t<div className=\"d-flex justify-content-end w-100 mt-3\" id=\"register-login\">\n// \t\t\t\t\t<a href=\"/register\"><button type=\"button\" className=\"btn btn-primary me-2\">Register</button></a>\n// \t\t\t\t\t<a href=\"/login\"><button type=\"button\" className=\"btn btn-primary me-4\">Log in</button></a>\n// \t\t\t\t</div>\n// \t\t\t\t<div id=\"introCarousel\" className=\"carousel slide\"  data-bs-ride=\"carousel\">\n// \t\t\t\t\t<div className=\"carousel-indicators\">\n// \t\t\t\t\t\t<button type=\"button\" data-bs-target=\"#introCarousel\" data-bs-slide-to=\"0\" className=\"active\" aria-current=\"true\" aria-label=\"Slide 1\"></button>\n// \t\t\t\t\t\t<button type=\"button\" data-bs-target=\"#introCarousel\" data-bs-slide-to=\"1\" aria-label=\"Slide 2\"></button>\n// \t\t\t\t\t\t<button type=\"button\" data-bs-target=\"#introCarousel\" data-bs-slide-to=\"2\" aria-label=\"Slide 3\"></button>\n// \t\t\t\t\t</div>\n// \t\t\t\t\t<div className=\"carousel-inner\">\n// \t\t\t\t\t\t<div className=\"carousel-item active\">\n// \t\t\t\t\t\t\t<img src=\"img/intro/intro-1.jpeg\" className=\"d-block w-100 img-fluid\" alt=\"...\" />\n// \t\t\t\t\t\t\t<div className=\"container\">\n// \t\t\t\t\t\t\t\t<div className=\"carousel-caption text-start\">\n// \t\t\t\t\t\t\t\t<h1>\n// \t\t\t\t\t\t\t\t\tLooking for a gift for your special one?\n// \t\t\t\t\t\t\t\t</h1>\n// \t\t\t\t\t\t\t\t<h2>Explore our range of gits </h2>\n// \t\t\t\t\t\t\t\t<p><a className=\"btn btn-lg btn-primary\" href=\"/products\">Browse the Market</a></p>\n// \t\t\t\t\t\t\t\t</div>\n// \t\t\t\t\t\t\t</div>\n// \t\t\t\t\t\t</div>\n// \t\t\t\t\t\t<div className=\"carousel-item w-100\">\n// \t\t\t\t\t\t\t<img src=\"img/intro/intro-2.jpeg\" className=\"d-block w-100 img-fluid\" alt=\"...\" />\n// \t\t\t\t\t\t<div className=\"container\">\n// \t\t\t\t\t\t\t<div className=\"carousel-caption\">\n// \t\t\t\t\t\t\t\t<h1>Don't know want to purchase?</h1>\n// \t\t\t\t\t\t\t\t<h2>Sign up today and talk to our <b>GiftBot</b> and receive a customized gift idea.</h2>\n// \t\t\t\t\t\t\t\t<p><a className=\"btn btn-lg btn-primary\" href=\"/register\">Sign up today</a></p>\n// \t\t\t\t\t\t\t</div>\n// \t\t\t\t\t\t</div>\n// \t\t\t\t\t\t</div>\n// \t\t\t\t\t\t<div className=\"carousel-item w-100\">\n// \t\t\t\t\t\t\t<img src=\"img/intro/intro-3.jpeg\" className=\"d-block w-100 img-fluid\" alt=\"...\" />\n// \t\t\t\t\t\t\t<div className=\"container\">\n// \t\t\t\t\t\t\t\t<div className=\"carousel-caption text-end\">\n// \t\t\t\t\t\t\t\t\t<h1>Already has a account?</h1>\n// \t\t\t\t\t\t\t\t\t<p>Log in now and continue your exploration</p>\n// \t\t\t\t\t\t\t\t\t<p><a className=\"btn btn-lg btn-primary\" href=\"/login\">Log in</a></p>\n// \t\t\t\t\t\t\t\t</div>\n// \t\t\t\t\t\t\t</div>\n// \t\t\t\t\t\t</div>\n// \t\t\t\t\t</div>\n// \t\t\t\t\t<button className=\"carousel-control-prev\" type=\"button\" data-bs-target=\"#introCarousel\"  data-bs-slide=\"prev\">\n// \t\t\t\t\t\t<span className=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\n// \t\t\t\t\t\t<span className=\"visually-hidden\">Previous</span>\n// \t\t\t\t\t</button>\n// \t\t\t\t\t<button className=\"carousel-control-next\" type=\"button\" data-bs-target=\"#introCarousel\"  data-bs-slide=\"next\">\n// \t\t\t\t\t\t<span className=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\n// \t\t\t\t\t\t<span className=\"visually-hidden\">Next</span>\n// \t\t\t\t\t</button>\n// \t\t\t\t</div>\n// \t\t\t</main>\n\n// \t\t</div>\n//     );\n// }\n\nexport default HomePage;","import React, { useEffect, useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport axios from 'axios';\n\nconst COUNTDOWN_SECONDS = 60;\nexport default function ForgetPasswordDialog(props) {\n    const handleClose = () => {\n        props.setOpen(false);\n    };\n    const [timing, setTiming] = useState(false);\n    const [second, setSecond] = useState(COUNTDOWN_SECONDS);\n    const [email, setEmail] = useState('');\n    const [error, setError] = useState({\n        error: false,\n        help_text: ''\n    });\n    useEffect(() => {\n        let interval;\n        if (timing) {\n            interval = setInterval(() => {\n                setSecond(preSecond => {\n                if (preSecond <= 1) {\n                    setTiming(false);\n                    clearInterval(interval);\n                    return COUNTDOWN_SECONDS;\n                } else {\n                    return preSecond - 1;\n                }\n                })\n            }, 1000)\n        }\n        return () => clearInterval(interval);\n  }, [timing])\n\n  const handleSendClick = () => event => {\n    setTiming(true);\n    axios.post('/user/login/send_mail/', {\n        email: email\n    }).then(res => {\n        if (res.status === 200) {\n          console.log(res);\n        } else {\n          console.log(res);\n          setError({\n            error: true,\n            help_text: `invalid email`\n          })\n        }\n    })\n  }\n\n  const handleChange = () => event => {\n      setEmail(event.target.value);\n  }\n\n  const handleErrorClick = () => event => {\n      setError({\n        error: false,\n        help_text: ''\n      })\n  }\n\n  return (\n    <div>\n      <Dialog open={props.open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n        <form>\n            <DialogTitle id=\"form-dialog-title\">FORGET PASSWORD</DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                    Send to your email address get a temporary password\n                </DialogContentText>\n                <TextField\n                    error={error.error}\n                    helperText={error.help_text}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    id=\"name\"\n                    label=\"Email Address\"\n                    type=\"email\"\n                    onChange={handleChange()}\n                    onClick={handleErrorClick()}\n                    style={{width: '75%', marginRight: '10px'}}\n                />\n                <Button variant=\"outlined\" style={{marginTop: '7px'}} disabled={timing} onClick={handleSendClick()}>\n                    {timing ? second : 'send'}\n                </Button>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={handleClose} color=\"primary\">\n                    Close\n                </Button>\n            </DialogActions>\n        </form>\n      </Dialog>\n    </div>\n  );\n}","import React, { useState } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Paper from '@material-ui/core/Paper';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport ForgetPasswordDialog from '../components/Dialog/ForgetPasswordDialog';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport IconButton from '@material-ui/core/IconButton';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\n\nconst ERROR = 465;\nconst INCORRECT_USERNAME = 464;\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {'Copyright  '}\n      <Link color=\"inherit\" to=\"/\">\n        V-Gift\n            </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: '100vh',\n  },\n  image: {\n    // backgroundImage: 'url(https://source.unsplash.com/random)',\n    backgroundImage: `url(/img/home/home-1.jpg)`,\n    backgroundRepeat: 'no-repeat',\n    backgroundColor:\n      theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n  },\n  paper: {\n    margin: theme.spacing(8, 4),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n  adminButton: {\n    position: \"fixed\",\n    bottom: 0,\n    // left: 10,\n    marginLeft: \"1rem\",\n    marginBottom: \"1rem\",\n  }\n}));\n\nfunction LoginPage({ setAuth, ...props }) {\n  const [infos, setInfos] = React.useState({\n    account_name: \"\",\n    password: \"\",\n    showPassword: false,\n  });\n\n  const handleChange = name => event => {\n    setInfos({\n      ...infos,\n      [name]: event.target.value\n    });\n  };\n\n  const [state, setState] = React.useState({\n    error: false,\n    help_text: \"\"\n  });\n\n  const handle_error = () => event => {\n    setState({\n      error: false,\n      help_text: \"\"\n    });\n  };\n\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    axios.post('user/login', { ...infos })\n      .then((response) => {\n        const data = response.data;\n        console.log(data.code);\n        if (data.code === ERROR) {\n          setState({\n            error: true,\n            help_text: \"Invalid account name/Password error\"\n          });\n        } else if (data.code === INCORRECT_USERNAME) {\n          setState({\n            error: true,\n            help_text: \"Invalid account name\"\n          });\n        }\n        else {\n          // mark the user as signed-in in local storage, it will be removed when it is logged out\n          setAuth(data.token, data.user_id);\n\n          // direct the user to the market page\n          props.history.push('/products');\n        }\n\n      })\n\n  }\n  const [openDialog, setOpenDialog] = useState(false);\n  const handleForgetPassword = () => event => {\n    setOpenDialog(true);\n  }\n\n  const classes = useStyles();\n  const theme = useTheme();\n\n  const handleClickShowPassword = () => {\n    setInfos({ ...infos, showPassword: !infos.showPassword });\n  };\n\n  const handleMouseDownPassword = (event) => {\n    event.preventDefault();\n  };\n\n\n  return (\n    <Grid container component=\"main\" className={classes.root}>\n      <CssBaseline />\n      <Grid item xs={false} sm={4} md={7} className={classes.image} />\n      <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\n        <div className={classes.paper}>\n          <Avatar className={classes.avatar}>\n            <LockOutlinedIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Sign in\n                  </Typography>\n          <form className={classes.form} noValidate onSubmit={handleSubmit}>\n            <TextField\n              error={state.error}\n              helperText={state.help_text}\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"email\"\n              label=\"Account Name\"\n              name=\"email\"\n              autoComplete=\"email\"\n              autoFocus\n              onChange={handleChange('account_name')}\n              onClick={handle_error()}\n            />\n            <OutlinedInput\n              type={infos.showPassword ? 'text' : 'password'}\n              value={infos.password}\n              error={state.error}\n              helperText={state.help_text}\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              // type=\"password\"\n              placeholder=\"Password\"\n              id=\"password\"\n              autoComplete=\"current-password\"\n              onChange={handleChange('password')}\n              onClick={handle_error()}\n              endAdornment={\n                <InputAdornment position=\"end\">\n                  <IconButton\n                    aria-label=\"toggle password visibility\"\n                    onClick={handleClickShowPassword}\n                    onMouseDown={handleMouseDownPassword}\n                    edge=\"end\"\n                  >\n                    {infos.showPassword ? <Visibility /> : <VisibilityOff />}\n                  </IconButton>\n                </InputAdornment>\n              }\n            />\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n            >\n              Sign In\n            </Button>\n            <Grid container>\n              <Grid item xs>\n                <Link button variant=\"body2\" color={theme.palette.secondary.contrastText} onClick={handleForgetPassword()}>\n                  Forgot password?\n                </Link>\n              </Grid>\n              <Grid item>\n                <Link to=\"/register\" variant=\"body2\" color={theme.palette.primary.contrastText}>\n                  {\"Don't have an account? Sign Up\"}\n                </Link>\n              </Grid>\n            </Grid>\n            <Box mt={5}>\n              <Copyright />\n            </Box>\n          </form>\n        </div>\n        <Button\n          className={classes.adminButton}\n          color='secondary'\n          variant='outlined'\n          component={Link}\n          to={'/admin/login'}\n        >\n          Admin Login\n        </Button>\n      </Grid>\n      <ForgetPasswordDialog open={openDialog} setOpen={setOpenDialog}/>\n    </Grid>\n  );\n}\n\nexport default LoginPage;\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport { Container } from '@material-ui/core';\nimport axios from 'axios';\nimport AuthContext from '../../AuthContext';\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: 'relative',\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    marginTop: '40px'\n  },\n  grid: {\n    width: \"75%\",\n  },\n  margin: {\n      marginRight: '30px',\n      marginTop: '20px'\n  }\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function EditProfileDialog(props) {\n  const classes = useStyles();\n  const token = React.useContext(AuthContext).user;\n  const handleClose = () => {\n    props.setOpen(false);\n  };\n\n  const [infos, setInfos] = useState({\n    fname: \"\",\n    lname: \"\",\n    address: \"\",\n    city: \"\",\n    country: \"\"\n  });\n\n  const handleChange = name => event => {\n    setInfos({\n      ...infos,\n      [name]: event.target.value\n    });\n  };\n\n  const handleSubmit = () => event => {\n    event.preventDefault();\n    axios.post('/user/profile/edit', {...infos, token}).then(res => {\n        if (res.status === 200) {\n            props.setProfile({...infos})\n            console.log(res);\n        }\n    })\n  }\n\n  return (\n    <div>\n      <Dialog fullScreen open={props.open} onClose={handleClose} TransitionComponent={Transition}>\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose} aria-label=\"close\">\n              <CloseIcon />\n            </IconButton>\n            <Typography variant=\"h6\" className={classes.title}>\n              EDIT PROFILE\n            </Typography>\n          </Toolbar>\n        </AppBar>\n        <form onSubmit={handleSubmit()}>\n            <Container className={classes.container}>\n                <Grid container className={classes.grid} item xs={12} spacing={1}>\n                    <Grid item xs={6}>\n                    <TextField\n                        className={classes.margin}\n                        label=\"First name\"\n                        placeholder=\"Enter First Name Here..\"\n                        id=\"first_name\"\n                        name=\"first_name\"\n                        onChange={handleChange('fname')}\n                        variant=\"outlined\"\n                        fullWidth\n                        required\n                    />\n                    </Grid>\n                    <Grid item xs={6}>\n                    <TextField\n                        className={classes.margin}\n                        label=\"Last name\"\n                        placeholder=\"Enter Last Name Here..\"\n                        name=\"last_name\"\n                        onChange={handleChange('lname')}\n                        variant=\"outlined\"\n                        fullWidth\n                        required\n                    />\n                    </Grid>\n                    <Grid item xs={12}>\n                    <TextField\n                        className={classes.margin}\n                        label=\"Address\"\n                        placeholder=\"Enter your Address Here..\"\n                        name=\"address\"\n                        onChange={handleChange('address')}\n                        variant=\"outlined\"\n                        fullWidth\n                        required\n                    />\n                    </Grid>\n                    <Grid item xs={6}>\n                    <TextField\n                    className={classes.margin}\n                        label=\"City\"\n                        placeholder=\"Enter City Name Here..\"\n                        name=\"city\"\n                        onChange={handleChange('city')}\n                        variant=\"outlined\"\n                        fullWidth\n                        required\n                    />\n                    </Grid>\n                    <Grid item xs={6}>\n                    <TextField\n                    className={classes.margin}\n                        label=\"Country\"\n                        placeholder=\"Select Country Name Here..\"\n                        name=\"country\"\n                        onChange={handleChange('country')}\n                        variant=\"outlined\"\n                        fullWidth\n                        required\n                    />\n                    </Grid>\n                    <Grid item xs={4}>\n                        <Button\n                            variant=\"contained\"\n                            color=\"primary\"\n                            style={{width: \"80%\", marginLeft: '680px', marginTop: '20px'}}\n                            type=\"submit\"\n                        >\n                            Update\n                        </Button>\n                    </Grid>\n                </Grid>\n            </Container>\n        </form>\n      </Dialog>\n    </div>\n  );\n}","import React, { useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport axios from 'axios';\nimport AuthContext from '../../AuthContext';\nimport CustomSnackBar from '../CustomSnackbar';\nimport { CHANGE_PASSWORD_ALERT as PASSWORD_ALERT } from '../../utils/AlertInfo';\nexport default function ChangePasswordDialog(props) {\n  const token = React.useContext(AuthContext).user;\n  const [alertOpen, setAlertOpen] = useState(false);\n  const [alertInfo, setAlertInfo] = useState({\n    severity: \"\",\n    message: \"\",\n  })\n\n  const handleClose = () => {\n    props.setOpen(false);\n  };\n\n  const [infos, setInfos] = useState({\n      oldPassword: '',\n      newPassword: '',\n      confirmPassword: ''\n  });\n\n  const handleChange = name => event => {\n    setInfos({\n      ...infos,\n      [name]: event.target.value\n    });\n  };\n  \n  const [error, setError] = useState({\n      error: false,\n      help_text: ''\n  })\n\n  const handleErrorClick = () => event => {\n      setError({\n        error: false,\n        help_text: ''\n      })\n  }\n  const handleSubmit = () => event => {\n    event.preventDefault();\n    if (infos.confirmPassword !== infos.newPassword) {\n        setError({\n            error: true,\n            help_text: 'Confirm Password not match New Password'\n        })\n    } else {\n        axios.post('/user/profile/password/change', {\n            old_password: infos.oldPassword,\n            new_password: infos.newPassword,\n            token\n        }).then(res => {\n            if (res.status === 200) {\n                setAlertInfo(PASSWORD_ALERT);\n                setAlertOpen(true);\n            } else {\n                setError({\n                    error: true,\n                    help_text: 'Old Password is not correct'\n                })\n            }\n        })\n    }\n  }\n\n  return (\n    <div>\n      <Dialog open={props.open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">Change Password</DialogTitle>\n        <form onSubmit={handleSubmit()}>\n            <DialogContent>\n            <TextField\n                error={error.error}\n                helperText={error.help_text}\n                autoFocus\n                variant=\"outlined\"\n                margin=\"dense\"\n                label=\"Old Password\"\n                type=\"password\"\n                onChange={handleChange('oldPassword')}\n                onClick={handleErrorClick()}\n                fullWidth\n                required\n            />\n            <TextField\n                error={error.error}\n                helperText={error.help_text}\n                style={{marginTop: '20px'}}\n                autoFocus\n                variant=\"outlined\"\n                margin=\"dense\"\n                label=\"New Password\"\n                type=\"password\"\n                onChange={handleChange('newPassword')}\n                onClick={handleErrorClick()}\n                fullWidth\n                required\n            />\n            <TextField\n                error={error.error}\n                helperText={error.help_text}\n                style={{marginTop: '20px'}}\n                autoFocus\n                variant=\"outlined\"\n                margin=\"dense\"\n                label=\"Confirm New Password\"\n                type=\"password\"\n                onChange={handleChange('confirmPassword')}\n                onClick={handleErrorClick()}\n                fullWidth\n                required\n            />\n            </DialogContent>\n            <DialogActions>\n            <Button onClick={handleClose} color=\"primary\">\n                Close\n            </Button>\n            <Button type='submit' color=\"primary\">\n                Confirm\n            </Button>\n            </DialogActions>\n        </form>\n        {alertOpen && \n        <CustomSnackBar \n          severity={alertInfo.severity}\n          message={alertInfo.message}\n          open={alertOpen}\n          setOpen={setAlertOpen}\n        />\n      }\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport axios from 'axios';\nimport { useHistory } from 'react-router'\nimport CustomSnackBar from '../components/CustomSnackbar';\nimport {NEGATIVE_NUM_ALERT} from '../utils/AlertInfo';\nimport EditProfileDialog from '../components/Dialog/EditProfileDialog';\nimport ChangePasswordDialog from '../components/Dialog/ChangePasswordDialog';\nimport AttachMoneyOutlinedIcon from '@material-ui/icons/AttachMoneyOutlined';\nimport ListAltIcon from '@material-ui/icons/ListAlt';\nimport FaceIcon from '@material-ui/icons/Face';\nimport ShoppingCartOutlinedIcon from '@material-ui/icons/ShoppingCartOutlined';\n\nconst iconSize = 8;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n\n  },\n  gridItem: {\n    height: theme.spacing(65),\n  },\n  cardTitle: {\n    display: \"flex\",\n    alignItems: \"center\",\n    marginBottom: theme.spacing(1),\n  },\n  cardIcon: {\n    width: theme.spacing(iconSize),\n    height: theme.spacing(iconSize),\n    marginRight: theme.spacing(0.5),\n  },\n  cardTitleText: {\n    textDecoration: \"none\",\n    fontWeight: \"200\",\n    color: theme.palette.primary.contrastText,\n  },\n  cardContent: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"start\",\n  }\n}));\n\n\nfunction UserHome(props) {\n    const classes = useStyles();\n    const theme = useTheme();\n    const history = useHistory();\n\n    const token = props.token;\n    const [profile, setProfile] = useState(props.profile);\n    const [fundToAdd, setFundToAdd] = useState(profile['fund']);\n    const [cart, setCart] = useState([]);\n    const [alertOpen, setAlertOpen] = useState(false);\n    const [alertInfo, setAlertInfo] = useState({\n      severity: \"\",\n      message: \"\",\n    })\n\n    React.useEffect((() => {\n      axios.get('/user/profile', { \n        params: {\n          token,\n        }\n      })\n      .then((response) => {\n        const data = response.data;\n  \n        setProfile({\n          \"first_name\": data[\"first_name\"],\n          \"last_name\": data[\"last_name\"],\n          \"username\": data[\"username\"],\n          \"email\": data[\"email\"],\n          \"address\": data[\"address\"],\n          \"fund\": data[\"fund\"],\n        });\n      })\n      .catch((err) => {});\n    }), [token, profile]);\n\n    const [editDialog, setEditDialog] = useState(false);\n    const [PasswordDialog, setPasswordDialog] = useState(false);\n    const handleFundToAddChange = (e) => {\n      setFundToAdd(e.target.value);\n    }\n\n    const handleAddFund = () => {\n      if (fundToAdd < 0) {\n        setAlertInfo(NEGATIVE_NUM_ALERT);\n        setAlertOpen(true);\n\n        return;\n      }\n      axios.post(\"/user/profile/fund/add\", {\n        token: token,\n        num: fundToAdd,\n      }).then((response) => {\n        const data = response.data;\n        console.log(data);\n        history.go(0);\n      })\n      .catch((err) => {});\n    }\n\n    useEffect((() => {\n      axios.get('/user/cart/list', {\n        params: {\n          token,\n        }\n      })\n      .then((response) => {\n        const data = response.data;\n        console.log(data);\n        setCart(data);\n      })\n      .catch((err) => {});\n\n      axios.get('/user/cart/list', {\n        params: {\n          token,\n        }\n      })\n      .then((response) => {\n        const data = response.data;\n        console.log(data);\n        setCart(data);\n      })\n      .catch((err) => {});\n    }), [token]);\n\n    const handleEditDialogOpen = () => {\n      setEditDialog(true);\n    }\n\n    const handleChangePasswordDialogOpen = () => {\n      setPasswordDialog(true);\n    }\n  \n\n    return (\n      <div classeName={classes.root}>\n        <Grid container spacing={3}>\n          <Grid item md={3} xs={12}>\n            <Card className={classes.gridItem} variant=\"outlined\">\n              <CardContent className={classes.cardContent}>\n                <div className={classes.cardTitle}>\n                  <FaceIcon className={classes.cardIcon}/>\n                  <Typography variant=\"h4\" classname={classes.cardTitleText}>\n                    My Details\n                  </Typography>\n                </div>\n                <Typography variant=\"h5\" color={theme.palette.primary.contrastText} component=\"p\">\n                  Name: {profile[\"first_name\"]} {profile[\"last_name\"]}\n                </Typography>\n                <Typography variant=\"h5\" color={theme.palette.primary.contrastText} component=\"p\">\n                  Username: {profile[\"username\"]}\n                </Typography>\n                <Typography variant=\"h5\" color={theme.palette.primary.contrastText} component=\"p\">\n                  Email: {profile[\"email\"]}\n                </Typography>\n                <Typography variant=\"h5\" color={theme.palette.primary.contrastText} component=\"p\">\n                  Address: {profile[\"address\"]}\n                </Typography>\n                <Button variant=\"contained\"color=\"primary\" style={{marginTop: '10px'}} onClick={handleEditDialogOpen}>EDIT PROFILE</Button>\n                <Button variant=\"contained\"color=\"secondary\" style={{marginTop: '10px'}} onClick={handleChangePasswordDialogOpen}>CHANGE PASSWORD</Button>\n              </CardContent>\n            </Card>\n            <EditProfileDialog profile={profile} setProfile={setProfile} open={editDialog} setOpen={setEditDialog}/>\n            <ChangePasswordDialog open={PasswordDialog} setOpen={setPasswordDialog}/>\n          </Grid> \n\n          <Grid item md={3} xs={12}>\n            <Card className={classes.gridItem}  variant=\"outlined\">\n              <CardContent className={classes.cardContent}>\n                <div \n                  className={classes.cardTitle}\n                >\n                  <AttachMoneyOutlinedIcon className={classes.cardIcon}/>\n                  <Typography variant=\"h4\" classname={classes.cardTitleText}>\n                    Balance\n                  </Typography>\n                </div>\n                <Typography variant=\"h5\" color={theme.palette.primary.contrastText} component=\"p\">\n                  {`$${profile['fund']} left`} \n                </Typography>\n\n                <Typography variant=\"h5\" color={theme.palette.primary.contrastText} style={{marginTop: \"1rem\"}}>\n                  Add Fund:\n                </Typography>\n                <TextField\n                  id=\"outlined-number\"\n                  label=\"Number\"\n                  type=\"number\"\n                  size=\"small\"\n                  value={fundToAdd}\n                  InputLabelProps={{\n                    shrink: true,\n                  }}\n                  variant=\"outlined\"\n                  style={{\n                    marginBottom: \"1rem\",\n                  }}\n                  inputProps={{\n                    step: 100,\n                    min: 0,\n                  }}\n                  onChange={handleFundToAddChange}\n                />\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={handleAddFund}\n                >\n                  Add\n                </Button>\n              </CardContent>\n            </Card>\n          </Grid>\n          <Grid item md={3} xs={12}>\n            <Card className={classes.gridItem} variant=\"outlined\">\n              <CardContent className={classes.cardContent}>\n                <div className={classes.cardTitle}>\n                  <ShoppingCartOutlinedIcon className={classes.cardIcon}/>\n                  <Typography variant=\"h4\" classname={classes.cardTitleText}>\n                    Cart\n                  </Typography>\n                </div>\n                <Typography variant=\"h5\" color={theme.palette.primary.contrastText} component=\"p\">\n                  {cart.length} items in cart\n                </Typography>\n              </CardContent>\n            </Card>\n          </Grid> \n          <Grid item md={3} xs={12}>\n            <Card className={classes.gridItem} variant=\"outlined\">\n              <CardContent className={classes.cardContent}>\n                <div className={classes.cardTitle}>\n                  <ListAltIcon className={classes.cardIcon}/>\n                  <Typography variant=\"h4\" classname={classes.cardTitleText}>\n                    Orders\n                  </Typography>\n                </div>\n                <Typography variant=\"h5\" color={theme.palette.primary.contrastText} component=\"p\">\n                  {props.ordersNum} orders in total\n                </Typography>\n\n              </CardContent>\n            </Card>\n          </Grid> \n        </Grid>\n        {alertOpen && \n          <CustomSnackBar \n            severity={alertInfo.severity}\n            message={alertInfo.message}\n            open={alertOpen}\n            setOpen={setAlertOpen}\n          />\n        }\n      </div>\n    );\n}\n\nexport default UserHome;","import React, { useEffect, useState } from 'react';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport moment from 'moment';\nimport Rating from '@material-ui/lab/Rating';\nimport Box from '@material-ui/core/Box';\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\nimport axios from 'axios';\nimport AuthContext from '../AuthContext';\nimport { Link } from 'react-router-dom';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport { Button } from '@material-ui/core';\nimport {\n  UPDATE_RECEIVE_ALERT as RECEIVE_ALERT,\n  UPDATE_REFUND_ALERT as REFUND_ALERT\n} from '../utils/AlertInfo';\nimport CustomSnackBar from './CustomSnackbar';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      margin: 5,\n      borderRadius: 5,\n      overflow: \"hidden\",\n      width: \"100%\",\n    },\n    grid: {\n      //height: \"10rem\",\n    },\n    img: {\n      //width: \"10rem\",\n      height: \"10rem\",\n      width: \"10rem\",\n      // maxWidth: \"100%\",\n      // margin: 10,\n      padding: 10,\n    },\n  }));\n\nexport default function OrderCard(props) {\n    const classes = useStyles();\n    const theme = useTheme();\n    const token = React.useContext(AuthContext).user;\n    const date = moment(parseFloat(props.purchase_date*1000)).format(\"YYYY-MM-DD HH:mm:ss\");\n    const [rating, setRating] = useState({\n      disabled: props.rating === 0 ? false:true,\n      value: props.rating\n    });\n\n    const [orderState, setOrderState] = useState(props.state_in_text);\n    const [displayReceive, setDisplayReceive] = useState(false);\n    const [displayRefund, setDisplayRefund] = useState(false);\n    const [alertOpen, setAlertOpen] = useState(false);\n    const [alertInfo, setAlertInfo] = useState({\n      severity: \"\",\n      message: \"\",\n    })\n    // eslint-disable-next-line\n    useEffect(() => {\n      if (props.state_in_text === 'Delivering') {\n        setDisplayReceive(true);\n      }\n      if (props.state_in_text === 'Just purchase') {\n        setDisplayRefund(true);\n      }\n    })\n    \n    const handleReceive = () => event => {\n      axios.post('/order/receive', {\n        token,\n        order_id: props.order_id\n      }).then(res => {\n        if (res.status === 200) {\n          setAlertInfo(RECEIVE_ALERT);\n          setAlertOpen(true);\n          setDisplayReceive(false);\n          setOrderState('Done');\n        }\n      })\n    }\n    const handleRefund = () => event => {\n      axios.post('/order/refund', {\n        token,\n        order_id: props.order_id\n      }).then(res => {\n        if(res.status === 200) {\n          console.log(res);\n          setAlertInfo(REFUND_ALERT);\n          setAlertOpen(true);\n          setOrderState('Cancelled / Refunded');\n        }\n      })\n    }\n  \n    const handleChange = () => event => {\n      console.log(event.target.value);\n      console.log(props.order_id);\n      console.log(token);\n      \n      axios.post('/order/rate',{\n        \"token\": `${token}`,\n        \"order_id\": parseInt(props.order_id),\n        \"rating\": parseInt(event.target.value)\n      }).then(res => {\n        console.log(res);\n      })\n      \n      setRating({\n        disabled: true,\n        value: event.target.value\n      })\n    }\n\n    return (\n        <div\n      className={classes.root}\n      style={{\n        border: `1px solid ${theme.palette.primary.contrastText}`\n      }}\n    >\n      <Grid\n        className={classes.grid}\n        container \n        spacing={3}\n        alignItems=\"center\"\n      >\n        <Grid item xs={2}>\n          <ButtonBase\n            className={classes.image}\n            component={Link}\n            to={`/product/${props.product_id}`}\n          >\n            <img className={classes.img} src={props.pic_link} alt='props.product_id' />\n          </ButtonBase>\n        </Grid>\n\n        <Grid item xs={3}>\n          {props.product_name}\n        </Grid>\n        <Grid item xs={1}>\n          <p>Quantity: {props.amount}</p>\n          <p>${props.cost}</p>\n        </Grid>\n        <Grid item xs={2}>\n            <p>{date}</p>\n            <p>{`State: ${orderState}`}</p>\n        </Grid>\n        <Grid item xs={2}>\n          <Box component=\"fieldset\" mb={3} borderColor=\"transparent\">\n            <Rating\n              onChange={handleChange()}\n              disabled={rating.disabled}\n              value={rating.value}\n              precision={0.5}\n              emptyIcon={<StarBorderIcon fontSize=\"inherit\" />}\n            />\n          </Box>\n        </Grid>\n        <Grid item xs={2}>\n          {displayReceive && <Button variant=\"contained\" color=\"primary\" style={{marginBottom: '20px', width: '70%'}} onClick={handleReceive()}>Received</Button>}\n          {displayRefund && <Button variant=\"contained\" color=\"secondary\" style={{marginBottom: '20px', width: '70%'}} onClick={handleRefund()}>Refund</Button>}\n        </Grid>\n      </Grid>\n      {alertOpen && \n        <CustomSnackBar \n          severity={alertInfo.severity}\n          message={alertInfo.message}\n          open={alertOpen}\n          setOpen={setAlertOpen}\n        />\n      }\n    </div>\n  );\n}","import React from 'react';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport List from '@material-ui/core/List';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { Link } from 'react-router-dom';\nimport Avatar from '@material-ui/core/Avatar';\nimport Box from '@material-ui/core/Box';\nimport HomeIcon from '@material-ui/icons/Home';\nimport UserHome from './UserHome';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport Button from '@material-ui/core/Button';\nimport axios from 'axios';\nimport AuthContext from '../AuthContext';\nimport OrderCard from './OrderCard';\nimport ShoppingCartIcon from \"@material-ui/icons/ShoppingCart\";\nimport ListAltIcon from '@material-ui/icons/ListAlt';\nimport { useHistory } from 'react-router'\n\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n    whiteSpace: 'nowrap',\n  },\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  drawerContainer: {\n    overflow: 'auto',\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n  },\n  logo: {\n    margin: \"auto\",\n    textAlign: 'center',\n    maxWidth: \"auto\",\n    maxHeight: '7vh',\n    marginRight: \"0.5rem\",\n  },\n  title: {\n    flexGrow: 1,\n  }\n}));\n\n\n\nexport default function UserDrawer(props) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const history = useHistory();\n\n  \n  const token = React.useContext(AuthContext).user;\n  const profile = props.profile;\n\n  const [display, setDisplay] = React.useState({\n    home: true,\n    orders: false,\n    users: false,\n  });\n\n  const [orders, setOrders] = React.useState([]);\n  \n  React.useEffect(() => {\n    axios.get('/order/list',{\n      params: {\n        token: token\n      }\n    }).then(res => {\n      console.log(res.data);\n      setOrders(res.data);\n    })\n  }, [token])\n  \n\n  const renderUserHome = (\n    <UserHome \n      token={token} \n      profile={profile}\n      ordersNum={orders.length}\n    />\n  );\n\n\n  const displayHome = () => {\n    setDisplay({\n      home: true,\n      orders: false,\n      users: false,\n    });\n  }\n\n\n  const displayOrders = () => {\n    setDisplay({\n      home: false,\n      orders: true,\n      users: false,\n    });\n  }\n\n  const handleLogout = (event) => {\n    axios.post('/user/logout', { token })\n      .then((response) => {\n        console.log(response);\n      \n        localStorage.removeItem('id');\n        localStorage.removeItem('token');\n\n        // after log out, redirect to home page\n        // props.history.go(0);\n        history.go(0);\n        // history.push('/');\n      }) \n      .catch((err) => {console.log(err)});\n  };\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar position=\"fixed\" className={classes.appBar} elevation={0}>\n        <Toolbar>\n          <Typography\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\ttextDecoration: \"none\",\n              fontWeight: \"200\",\n              color: theme.palette.primary.contrastText\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\tcomponent={Link}\n\t\t\t\t\t\tto={'/products'}\n\t\t\t\t\t\tclassName={classes.title} \n\t\t\t\t\t\tvariant=\"h4\"\n\t\t\t\t\t\tnoWrap\n\t\t\t\t\t>\n            V-Gifts | My Profile\n          </Typography>\n          <Button variant=\"contained\" color=\"secondary\" onClick={handleLogout}>\n            Log out\n          </Button>\n        </Toolbar>\n      </AppBar>\n      <Drawer\n        className={classes.drawer}\n        variant=\"permanent\"\n        classes={{\n          paper: classes.drawerPaper,\n        }}\n      >\n        <Toolbar />\n        <div className={classes.drawerContainer}>\n          <List>\n            <ListItem button key={\"Home\"} onClick={displayHome}>\n              <ListItemIcon><HomeIcon /></ListItemIcon>\n              <ListItemText primary={\"Home\"} />\n            </ListItem>\n            <ListItem button key={\"Cart\"} component={Link} to={ `/profile/${token}/cart`}>\n              <ListItemIcon><ShoppingCartIcon /></ListItemIcon>\n              <ListItemText primary={\"Cart\"} />\n            </ListItem>\n            <ListItem button key={\"Orders\"} onClick={displayOrders}>\n              <ListItemIcon><ListAltIcon /></ListItemIcon>\n              <ListItemText primary={\"Orders\"} />\n            </ListItem>\n            <ListItem button key={\"Logout\"} onClick={handleLogout} >\n              <ListItemIcon><ExitToAppIcon /></ListItemIcon>\n              <ListItemText primary={\"Log out\"} />\n            </ListItem>\n          </List>\n        </div>\n      </Drawer>\n      <main className={classes.content}>\n        {/* <div className={classes.toolbar} /> */}\n        <Toolbar />\n        <Box\n          display=\"flex\" \n          flexDirection=\"column\"\n          alignItems=\"center\"\n        >\n          <Avatar \n            alt=\"Admin Avartar\"\n            src=\"/img/profile/profile-1.jpg\"\n            variant=\"rounded\" \n            style={{\n              border: `1px solid ${theme.palette.primary.contrastText}`,\n              width: theme.spacing(20),\n              height: theme.spacing(20),\n              marginBottom: theme.spacing(5),\n            }}\n          />\n          {display.orders && <h1>Orders history</h1>}\n\n        </Box>\n        {display.home && renderUserHome}\n        {/* {display.users && renderUsers} */}\n        {display.orders && orders.map((item, index) => \n          <OrderCard key={index} {...item}/> \n        )}\n      </main>\n    </div>\n  );\n}\n","import React from 'react';\nimport axios from 'axios';\nimport AuthContext from '../AuthContext';\nimport UserDrawer from '../components/UserDrawer';\n\nexport default function ProfilePage(props) {\n\t// const { profile } = props.match.params;\n\tconst token = React.useContext(AuthContext).user;\n  const [profile, setProfile] = React.useState({\n    \"first_name\": \"\",\n    \"last_name\": \"\",\n    \"username\": \"\",\n    \"email\": \"\",\n    \"address\": \"\",\n    \"fund\": 0,\n  });\n\n\tReact.useEffect((() => {\n\t\taxios.get('/user/profile', { \n      params: {\n        token,\n      }\n    })\n    .then((response) => {\n      const data = response.data;\n\n      setProfile({\n        \"first_name\": data[\"first_name\"],\n        \"last_name\": data[\"last_name\"],\n        \"username\": data[\"username\"],\n        \"email\": data[\"email\"],\n        \"address\": data[\"address\"],\n        \"fund\": data[\"fund\"],\n      });\n    })\n    .catch((err) => {});\n\t}), [token]);\n    \n  return (\n    <div>\n      <UserDrawer profile={profile} history={props.history}/>\n    </div>\n  );\n\n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport axios from 'axios';\n\n\n\nconst EXISTED_NAME = 463;\nconst EXISTED_EMAIL = 468;\nconst INVALID_USERNAME = 461;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  grid: {\n    width: \"75%\",\n  },\n}));\n\n\nfunction RegisterPage({ setAuth, ...props }) {\n  const classes = useStyles();\n\n  const [infos, setInfos] = useState({\n    account_name: \"\",\n    first_name: \"\",\n    last_name: \"\",\n    email: \"\",\n    password: \"\",\n    address: \"\",\n    city: \"\",\n    country: \"\"\n  });\n\n  const handleChange = name => event => {\n    setInfos({\n      ...infos,\n      [name]: event.target.value\n    });\n  };\n\n  const [state, setState] = useState({\n    email_error: false,\n    account_error: false,\n    password_error: false,\n    email_text: \"\",\n    account_text: \"\",\n    password_text: \"\"\n  });\n\n  const handle_error = () => event => {\n    setState({\n      email_error: false,\n      account_error: false,\n      password_error: false,\n      email_text: \"\",\n      account_text: \"\",\n      password_text: \"\"\n    })\n  };\n\n  const handle_error_email = () => event => {\n    let pattern = /^[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+){0,4}@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+){0,4}$/;\n    if (!pattern.test(event.target.value) && event.target.value !== \"\") {\n      setState({\n        email_error: true,\n        email_text: \"Invalid E-mail format\"\n      });\n    }\n  };\n\n  const handle_password = () => event => {\n    if (infos.password !== event.target.value && event.target.value !== \"\" && infos.password !== \"\") {\n      setState({\n        password_error: true,\n        password_text: \"Password does not match\"\n      });\n    }\n  };\n\n  const handleSubmit = (event, handleNext) => {\n    // prevent it from submitting a form\n    event.preventDefault();\n\n    // send the infos to backend\n    axios.post('user/register', { ...infos })\n      .then((response) => {\n          const data = response.data;\n          if (data.code === EXISTED_NAME ) {\n            setState({\n              account_error: true,\n              account_text: \"Account name exists\"\n            })\n          } else if (data.code === EXISTED_EMAIL ) {\n            setState({\n              email_error: true,\n              email_text: \"Email exists\"\n            })\n          } else if (data.code === INVALID_USERNAME ) {\n            setState({\n              account_error: true,\n              account_text: \"Account name invalid\"\n            })\n          }\n          else {\n            // mark the user as signed-in in local storage, it will be removed when it is logged out\n            setAuth(data.token, data.user_id);\n\n            handleNext();\n            // direct the user to the market page\n            // props.history.push('/products');\n          }\n\n      })\n  };\n\n  return (\n    <div className={classes.root}>\n      {/* <NavBar />             */}\n      <Grid className={classes.grid} container spacing={2}>\n        <Grid item xs={12}>\n          <Typography variant=\"h3\" style={{ textAlign: \"center\" }}>\n            Your Details\n              </Typography>\n        </Grid>\n        <form onSubmit={(e) => {\n          handleSubmit(e, props.handleNext)\n        }}>\n          <Grid container item xs={12} spacing={1}>\n            <Grid item xs={6}>\n              <TextField\n                label=\"First name\"\n                placeholder=\"Enter First Name Here..\"\n                id=\"first_name\"\n                name=\"first_name\"\n                // onChange={handleChange('first_name')}\n                onChange={handleChange('first_name')}\n                variant=\"outlined\"\n                fullWidth\n                required\n              />\n            </Grid>\n            <Grid item xs={6}>\n              <TextField\n                label=\"Last name\"\n                placeholder=\"Enter Last Name Here..\"\n                name=\"last_name\"\n                onChange={handleChange('last_name')}\n                variant=\"outlined\"\n                fullWidth\n                required\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                error={state.email_error}\n                helperText={state.email_text}\n                label=\"E-mail\"\n                placeholder=\"Enter Email Address Here..\"\n                className=\"form-control\"\n                name=\"email\"\n                onChange={handleChange('email')}\n                onClick={handle_error()}\n                onBlur={handle_error_email()}\n                variant=\"outlined\"\n                fullWidth\n                required\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                error={state.account_error}\n                helperText={state.account_text}\n                label=\"Account name\"\n                placeholder=\"Enter your account name here..\"\n                name=\"account_name\"\n                onChange={handleChange('account_name')}\n                onClick={handle_error()}\n                variant=\"outlined\"\n                fullWidth\n                required\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                label=\"Password\"\n                type=\"password\"\n                placeholder=\"Enter Password Here..\"\n                name=\"password\"\n                onChange={handleChange('password')}\n                onClick={handle_error()}\n                variant=\"outlined\"\n                fullWidth\n                required\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                error={state.password_error}\n                helperText={state.password_text}\n                label=\"Confirmed Password\"\n                type=\"password\"\n                placeholder=\"Enter Confirmed Password Here..\"\n                name=\"password\"\n                onClick={handle_error()}\n                onBlur={handle_password()}\n                variant=\"outlined\"\n                fullWidth\n                required\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                label=\"Address\"\n                // type=\"password\"\n                placeholder=\"Enter your Address Here..\"\n                name=\"address\"\n                onChange={handleChange('address')}\n                variant=\"outlined\"\n                fullWidth\n                required\n              />\n            </Grid>\n            <Grid item xs={6}>\n              <TextField\n                label=\"City\"\n                placeholder=\"Enter City Name Here..\"\n                name=\"city\"\n                onChange={handleChange('city')}\n                variant=\"outlined\"\n                fullWidth\n                required\n              />\n            </Grid>\n            <Grid item xs={6}>\n              <TextField\n                label=\"Country\"\n                placeholder=\"Select Country Name Here..\"\n                className=\"form-control\"\n                name=\"country\"\n                onChange={handleChange('country')}\n                variant=\"outlined\"\n                fullWidth\n                required\n              />\n            </Grid>\n            <Grid item xs={6} />\n            <Grid item xs={6}>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                style={{width: \"100%\"}}\n                type=\"submit\"\n                // onClick={props.handleNext}\n              >\n                Next\n              </Button>\n            </Grid>\n          </Grid>\n        </form>\n      </Grid>\n      {/* <blockquote className=\"blockquote text-center\" style={{ marginTop: 40 }}>\n        <h1>Become to V-Gift member</h1>\n      </blockquote>\n      <main className=\"container\">\n        <form\n          onSubmit={(e) => {\n            handleSubmit(e, props.handleNext)\n          }}\n        >\n          <div className=\"row\" style={{ marginTop: 60 }}>\n            <div className=\"col-sm-6 form-group\">\n              <TextField\n                style={{ margin: 10 }}\n                label=\"First name\"\n                placeholder=\"Enter First Name Here..\"\n                id=\"first_name\"\n                name=\"first_name\"\n                // onChange={handleChange('first_name')}\n                onChange={handleChange('first_name')}\n                variant=\"outlined\"\n                fullWidth\n                required\n              />\n            </div>\n            <div className=\"col-sm-6 form-group\">\n              <TextField\n                style={{ margin: 10 }}\n                label=\"Last name\"\n                placeholder=\"Enter Last Name Here..\"\n                name=\"last_name\"\n                onChange={handleChange('last_name')}\n                variant=\"outlined\"\n                fullWidth\n                required\n              />\n            </div>\n          </div>\n          <div className=\"form-group\">\n            <TextField\n              error={state.email_error}\n              helperText={state.email_text}\n              style={{ margin: 10 }}\n              label=\"E-mail\"\n              placeholder=\"Enter Email Address Here..\"\n              className=\"form-control\"\n              name=\"email\"\n              onChange={handleChange('email')}\n              onClick={handle_error()}\n              onBlur={handle_error_email()}\n              variant=\"outlined\"\n              fullWidth\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <TextField\n              error={state.account_error}\n              helperText={state.account_text}\n              style={{ margin: 10 }}\n              label=\"Account name\"\n              placeholder=\"Enter your account name here..\"\n              name=\"account_name\"\n              onChange={handleChange('account_name')}\n              onClick={handle_error()}\n              variant=\"outlined\"\n              fullWidth\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <TextField\n              style={{ margin: 10 }}\n              label=\"Password\"\n              type=\"password\"\n              placeholder=\"Enter Password Here..\"\n              name=\"password\"\n              onChange={handleChange('password')}\n              onClick={handle_error()}\n              variant=\"outlined\"\n              fullWidth\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <TextField\n              error={state.password_error}\n              helperText={state.password_text}\n              style={{ margin: 10 }}\n              label=\"Confirmed Password\"\n              type=\"password\"\n              placeholder=\"Enter Confirmed Password Here..\"\n              name=\"password\"\n              onClick={handle_error()}\n              onBlur={handle_password()}\n              variant=\"outlined\"\n              fullWidth\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <TextField\n              style={{ margin: 10 }}\n              label=\"Address\"\n              // type=\"password\" \n              placeholder=\"Enter your Address Here..\"\n              name=\"address\"\n              onChange={handleChange('address')}\n              variant=\"outlined\"\n              fullWidth\n              required\n            />\n          </div>\n          <div className=\"row\">\n            <div className=\"col-sm-6 form-group\">\n              <TextField\n                style={{ margin: 10 }}\n                label=\"City\"\n                placeholder=\"Enter City Name Here..\"\n                name=\"city\"\n                onChange={handleChange('city')}\n                variant=\"outlined\"\n                fullWidth\n                required\n              />\n            </div>\n            <div className=\"col-sm-6 form-group\">\n              <TextField\n                style={{ margin: 10 }}\n                label=\"Country\"\n                placeholder=\"Select Country Name Here..\"\n                className=\"form-control\"\n                name=\"country\"\n                onChange={handleChange('country')}\n                variant=\"outlined\"\n                fullWidth\n                required\n              />\n            </div>\n          </div>\n          <button type=\"submit\" style={{ margin: 10 }} className=\"btn btn-outline-primary\">Create profile</button>\n\n        </form>\n      </main> */}\n    </div>\n\n  );\n}\n\nexport default RegisterPage;","import React, { useState } from 'react';\nimport Chip from '@material-ui/core/Chip';\n\nconst SELECTED = \"secondary\";\nconst UNSELECTED = \"default\";\n\nexport default function CustomChip(props) {\n  const [color, setColor] = useState(UNSELECTED);\n\n  const handleClick = (name) => {\n    switch (color) {\n      case UNSELECTED:\n        // add an interest: unselected -> selected\n        setColor(SELECTED);\n        props.handleAdd(name);\n\n        break;\n      case SELECTED:\n        // remove an interest: selected -> unselected\n        setColor(UNSELECTED);\n        props.handleRemove(name);\n\n        break;\n      default:\n        break;\n    }\n  };\n\n  return (\n    <Chip \n      label={props.label}\n      color={color}\n      style={{\n        marginRight: \"1rem\",\n        marginBottom: \"0.5rem\",\n      }}\n      onClick={() => handleClick(props.label)}\n    />\n  );\n}","import React, { useEffect, useState } from 'react';\nimport CustomChip from './CustomChip';\n\nexport default function InterestsChips({\n  setSelected, \n  handleAdd,\n  handleRemove,\n  ...props\n}) {\n  const [interests, setInterests] = useState(props.interests);\n  // const [selected, setSelected] = useState([]);\n\n  useEffect((() => {\n    setInterests(props.interests);\n    // eslint-disable-next-line\n  }), []);\n\n\n  return (\n    <div>\n      {interests.map((x) => (\n        <CustomChip\n          key={x} \n          label={x}\n          handleAdd={handleAdd}\n          handleRemove={handleRemove}\n        />\n      ))}\n    </div>\n  );\n}","import React, { useState, useContext } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport axios from 'axios';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport InterestChips from '../components/InterestsChips';\nimport Button from '@material-ui/core/Button'\nimport AuthContext from '../AuthContext';\nimport { useHistory } from 'react-router'\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  grid: {\n    width: \"75%\",\n  },\n}));\n\nfunction InterestSelectionPage(props) {\n  const classes = useStyles();\n  const token = useContext(AuthContext).user;\n  const history = useHistory();\n\n  // eslint-disable-next-line\n  const [interests, setInterets] = useState(props.interests);\n  const [selected, setSelected] = useState([]);\n\n  const handleAdd = (interest) => {\n    setSelected(prevSelected => [...prevSelected, interest]);\n  };\n\n  const handleRemove = (interest) => {\n    setSelected(selected.filter(item => item !== interest));\n  }\n\n\n  const handleUserInterests = (handleNext) => {\n    axios.post(\"/user/set_interest\", {\n      token: token,\n      interest_lst: selected,\n    })\n    .then((response) => {\n      history.push('/products')\n    })\n    .catch((err) => {});\n  };\n\n  return(\n    <div className={classes.root}>\n      <Grid className={classes.grid} container spacing={2}>\n        <Grid item xs={12}>\n          <Typography variant=\"h3\" style={{textAlign: \"center\"}}>\n            Interests:\n          </Typography>\n          <Typography variant=\"subtitle1\" style={{textAlign: \"center\"}}>\n            Register completed! Welcome to V-Gifts. Now you can select your interests for better recommendations send to you\n          </Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <InterestChips \n            interests={interests} \n            setSelected={setSelected}\n            handleAdd={handleAdd}\n            handleRemove={handleRemove}\n          />\n        </Grid>\n        <Grid container item xs={12} spacing={2}>\n          <Grid item xs={6} />\n          <Grid item xs={3}>\n            <Button\n              variant=\"outlined\" \n              color=\"secondary\"\n              style={{width: \"100%\"}} \n              onClick={() => {\n                history.push('/products');\n              }} \n            >\n              Skip\n            </Button>\n          </Grid>\n          <Grid item xs={3}>\n            <Button \n              variant=\"contained\" \n              color=\"secondary\" \n              style={{ width: \"100%\" }}\n              onClick={() => handleUserInterests(props.handleNext)}\n            >\n              Finish\n            </Button>\n          </Grid>\n        </Grid>\n      </Grid>\n    </div>\n  );\n}\n\nexport default InterestSelectionPage;","import React, { useEffect, useState, useContext } from \"react\";\nimport { fade, makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport Badge from \"@material-ui/core/Badge\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\nimport ShoppingCartIcon from \"@material-ui/icons/ShoppingCart\";\nimport Button from '@material-ui/core/Button';\nimport { Link } from 'react-router-dom';\nimport AuthContext from '../AuthContext';\nimport axios from \"axios\";\n\n\nconst useStyles = makeStyles((theme) => ({\n  grow: {\n    // flexGrow: 1,\n    width: \"100%\",\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n\t\tmarginRight: theme.spacing(2),\n  },\n\tmarketButton: {\n\t\tmarginRight: theme.spacing(2),\n\t},\n  search: {\n    position: \"relative\",\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.45),\n    \"&:hover\": {\n      backgroundColor: fade(theme.palette.common.white, 0.55),\n    },\n    // marginRight: theme.spacing(20),\n    marginLeft: 0,\n    minWidth: \"10rem\",\n    flexGrow: 1,\n  },\n  searchIcon: {\n    padding: theme.spacing(0, 2),\n    height: \"100%\",\n    position: \"absolute\",\n    pointerEvents: \"none\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  inputRoot: {\n    color: \"inherit\",\n    // width: \"50rem\",\n    width: \"100%\",\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create(\"width\"),\n    width: \"100%\",\n  },\n  sectionDesktop: {\n    display: 'flex',\n  },\n  toolBar: {\n    minHeight: \"10vh\",\n    display: \"flex\",\n    alignItems: \"center\",\n  },\n  logo: {\n    margin: \"auto\",\n    textAlign: 'center',\n    maxWidth: \"auto\",\n    maxHeight: '7vh',\n    marginRight: \"0.5rem\",\n  },\n}));\n\nexport default function NavBar(props) {\n  const token = useContext(AuthContext).user;\n\n  const classes = useStyles();\n  const theme = useTheme();\n\n  const [searchInput, setSearchInput] = useState(\"\");\n  const [cartCount, setCartCount] = useState(0);\n\n  const handleSearchChange = event => {\n    setSearchInput(event.target.value);\n  }\n\n  const handleSearch = () => {\n    // history.push(`/products?keyword=${searchInput}`);\n    props.setKeyword(searchInput);\n  };\n\n  const NotLoggedIn = (\n    <Button\n      component={Link}\n      to={'/login'}\n      variant=\"outlined\"\n    >\n      Login/Register\n    </Button>\n  );\n\n  const LoggedInProfile = (\n    <div>\n      <IconButton\n        aria-label=\"cart\"\n        color=\"inherit\"\n        component={Link}\n        to={ `/profile/${token}/cart`}\n      >\n        <Badge badgeContent={cartCount} color=\"secondary\">\n          <ShoppingCartIcon />\n        </Badge>\n      </IconButton>\n      <Button\n        component={Link}\n        to={`/profile/${token}`}\n        edge=\"end\"\n        aria-label=\"account of current user\"\n        color=\"inherit\"\n        className={classes.logo}\n      >\n        <AccountCircle />\n        Account\n      </Button>\n    </div>\n  );\n\n  useEffect(((() => {\n    if (token) {\n      axios.get(\"/user/get_cart_number\", {\n        params: {\n          token: token,\n        }\n      })\n      .then((response) => {\n        const data = response.data;\n        setCartCount(data[\"cart_product_num\"]);\n      })\n      .catch((err) => {});\n    }\n  })), [props.reload, token]);\n\n\n\n  return (\n    <div className={classes.grow}>\n      <AppBar position=\"static\" style={{boxShadow: 'none'}}>\n        <Toolbar className={classes.toolBar}>\n          <Link\n            to={'/products'}\n            style={{\n              display: \"flex\",\n              flexDirection: \"row\",\n              alignItems: \"center\",\n              textDecoration: \"none\",\n            }}\n          >\n            <img\n              className={classes.logo}\n              src=\"/img/logo/logo-1.png\"\n              alt=\"V-Gifts logo\"\n            />\n            <Typography\n              style={{\n                textDecoration: \"none\",\n                fontWeight: \"200\",\n                color: theme.palette.primary.contrastText\n              }}\n              color=\"inherit\"\n              className={classes.title} \n              variant=\"h4\"\n              noWrap\n            >\n              V-Gifts\n            </Typography>\n          </Link>\n\t\t\t\t\t{/* <Button\n\t\t\t\t\t\tclassName={classes.marketButton}\n\t\t\t\t\t\tcomponent={Link}\n\t\t\t\t\t\tto={{\n              pathname: '/products',\n            }}\n\t\t\t\t\t\tstyle={{color: theme.palette.primary.contrastText}}\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t>\n            Market\n\t\t\t\t\t</Button> */}\n          <div className={classes.search}>\n            <div className={classes.searchIcon}>\n              <SearchIcon />\n            </div>\n            <InputBase\n              placeholder=\"Search\"\n              classes={{\n                root: classes.inputRoot,\n                input: classes.inputInput,\n              }}\n              inputProps={{ \"aria-label\": \"search\" }}\n              onChange={handleSearchChange}\n              onKeyDown={(e) => {\n                if (e.key === \"Enter\") {\n                  handleSearch();\n                }\n              }}\n            />\n          </div>\n          <div style={{flexGrow: \"0.1\"}} />\n          <div className={classes.sectionDesktop}>\n            {token ? LoggedInProfile : NotLoggedIn}\n          </div>\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport RegisterPage from './RegisterPage';\nimport InterestSelectionPage from './InterestSelectionPage';\nimport NavBar from '../components/NavBar';\nimport axios from 'axios';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  },\n  backButton: {\n    marginRight: theme.spacing(1),\n  },\n  instructions: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n  },\n}));\n\nfunction getSteps() {\n  return [\n    'Register your personal info',\n    'Select your interests'\n  ];\n}\n\n\n\n\n\nfunction RegisterStepperPage({ setAuth, ...props }) {\n  const classes = useStyles();\n  const [activeStep, setActiveStep] = useState(0);\n  const [interests, setInterets] = useState([]);\n\n  const steps = getSteps();\n\n  \n  const handleNext = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\n  };\n  \n  const handleBack = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\n  };\n  \n  // const handleReset = () => {\n  //   setActiveStep(0);\n  // };\n  \n  function getStepContent(index) {\n    switch(index) {\n      case 0:\n        return (\n          <RegisterPage \n            handleNext={handleNext} \n            setAuth={setAuth}\n          />\n        );\n      case 1:\n        return (\n          <InterestSelectionPage \n            interests={interests}\n            handleBack={handleBack}\n            handleNext={handleNext}\n          />\n        );\n      default:\n        return;\n      // case 2:\n      //   return (\n      //     <RegisterLastPage \n      //       handleBack={handleBack}\n      //       handleNext={handleNext}\n      //     />\n      //   );\n    }\n  }\n\n  useEffect((() => {\n  axios.get(\"/user/get_interest\")\n  .then((response) => {\n    const data = response.data;\n\n    setInterets(data[\"interest_list\"]);\n  })\n  .catch((err) => {\n\n  });\n}), []);\n\n  return (\n    <div className={classes.root}>\n      <NavBar />\n      <Stepper activeStep={activeStep} alternativeLabel>\n        {steps.map((label, index) => (\n            <Step key={label}>\n              <StepLabel>\n                {label}\n                {index === 1 ? \n                  <Typography variant=\"caption\" style={{display: \"block\"}}>Optional</Typography>\n                  : \"\"\n                }\n              </StepLabel>\n            </Step>\n        ))}\n      </Stepper>\n      <div>\n        {getStepContent(activeStep)}\n      </div>\n    </div>\n  );\n}\n\nexport default RegisterStepperPage;","import React, { useState } from 'react';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\nimport Button from '@material-ui/core/Button';\nimport { Link } from 'react-router-dom';\nimport AuthContext from '../AuthContext';\nimport axios from 'axios';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport { NOT_ENOUGH_FUND } from '../utils/ErrorCode';\nimport { FUND_ALERT } from '../utils/AlertInfo';\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n  },\n  media: {\n    width: \"auto\",\n    maxHeight: \"20rem\",\n  },\n  actionArea: {\n    flexGrow: 1,\n  },\n  CardActions: {\n\n  },\n}));\n\nexport default function ProductCardNew(props) {\n    const classes = useStyles();\n    const theme = useTheme();\n    const token = React.useContext(AuthContext).user;\n\n    // eslint-disable-next-line\n    const [id, setId] = useState(props.id);\n    // eslint-disable-next-line\n    const [name, setName] = useState(props.name);\n    // eslint-disable-next-line\n    const [price, setPrice] = useState(props.price);\n    // eslint-disable-next-line\n    const [rating, setRating] = useState(props.rating);\n    // eslint-disable-next-line\n    const [img, setImg] = useState(props.img);\n\n\n    const handleAddToCart = () => {\n      if (!token) {\n        // alert later!\n        props.handleNlModalOpen();\n        return;\n      }\n\n      axios.post(\"/user/cart/add\",\n        {\n          token: token,\n          product_id: id,\n          amount: 1,\n        }\n      )\n      .then((response) => {\n        props.setModalType(2);\n        props.handlePsModalOpen();\n        props.setNavbarReload(prev => prev + 1);\n        // props.setNavbarReload(false);\n      })\n      .catch((err) => {});\n    };\n\n    const handlePurchase = () => {\n      if (!token) {\n        // alert later!\n        props.handleNlModalOpen();\n        return;\n      }\n  \n      let info = [\n        [id, 1]\n      ];\n  \n      let payload = {\n        token: token,\n        list: info,\n      };\n  \n      axios({\n        url: \"/order/new\",\n        method: \"post\",\n        data: payload,\n      })\n      .then(response => {\n        const data = response.data;\n\n        if (data.code === NOT_ENOUGH_FUND) {\n          props.setAlertInfo(FUND_ALERT);\n          props.setAlertOpen(true);\n          return;\n        }\n        props.setModalType(1);\n        props.handlePsModalOpen();\n      })\n      .catch((err) => {\n        console.log(err);\n      }); \n    };\n\n    return (\n      <Card className={classes.root}>\n        <CardActionArea\n          className={classes.actionArea}\n          component={Link}\n          to={`/product/${id}`}\n        >\n          <div\n            style={{\n              display: \"flex\",\n              alignItem: \"center\",\n              justifyContent: \"center\"\n            }}\n          >\n            <CardMedia\n              style={{\n                width: \"auto\",\n                maxHeight: \"190px\"\n              }}\n              component=\"img\"\n              image={img}\n              title=\"Contemplative Reptile\"\n            />\n          </div>\n          <CardContent>\n            <Typography gutterBottom variant=\"h5\" component=\"h2\">\n              {`${name.split(\" \").splice(0, 15).join(\" \")}`}\n            </Typography>\n          </CardContent>\n        </CardActionArea>\n        <CardActions>\n          <Grid container style={{width: \"100%\"}} spacing={1}>\n            <Grid item xs={5}>\n              <Button\n                onClick={handleAddToCart}\n                variant=\"outlined\"\n                size=\"small\"\n                style={{\n                  // width: \"9rem\",\n                  width: \"100%\",\n                  height: \"100%\",\n                  color: theme.palette.primary.contrastText,\n                }}\n              >\n                <Typography variant=\"body2\" style={{ cursor: 'pointer' }}>\n                    <ShoppingCartIcon /> Add to Cart\n                </Typography>\n              </Button>\n            </Grid>\n            <Grid item xs={5}>\n              <Button\n                onClick={handlePurchase}\n                variant=\"outlined\"\n                size=\"small\"\n                style={{\n                  // width: \"9rem\",\n                  width: \"100%\",\n                  height: \"100%\",\n                  color: theme.palette.primary.contrastText,\n                }}\n              >\n                <Typography variant=\"body2\" style={{ cursor: 'pointer' }}>\n                  Purchase\n                </Typography>\n              </Button>\n            </Grid>\n            <Grid item xs={2}>\n              <Typography variant=\"h5\" style={{textAlign: \"end\"}}>\n                ${price}\n              </Typography>\n            </Grid>\n          </Grid>\n        </CardActions>\n      </Card>\n        // <div className={classes.root}>\n        //     <Paper className={classes.paper}>\n        //         <Grid container spacing={0}>\n        //             <Grid container item xs={6} direction=\"column\" spacing={1}>\n        //                 <Grid item>\n        //                   <ButtonBase\n        //                     className={classes.image}\n        //                     component={Link}\n        //                     to={`/product/${id}`}\n        //                   >\n        //                       <img className={classes.img} alt=\"product image\" src={img} />\n        //                   </ButtonBase>\n        //                 </Grid>\n        //                 <Grid item>\n        //                     <Button\n        //                       onClick={handleAddToCart}\n        //                       variant=\"outlined\"\n        //                       style={{\n        //                         width: \"9rem\",\n        //                         color: theme.palette.primary.contrastText,\n        //                       }}\n        //                     >\n        //                       <Typography variant=\"body2\" style={{ cursor: 'pointer' }}>\n        //                           <ShoppingCartIcon /> Add to Cart\n        //                       </Typography>\n        //                     </Button>\n        //                 </Grid>\n        //                 <Grid item>\n        //                     <Button\n        //                       onClick={handlePurchase}\n        //                       variant=\"outlined\"\n        //                       style={{\n        //                         width: \"9rem\",\n        //                         color: theme.palette.primary.contrastText,\n        //                       }}\n        //                     >\n        //                       <Typography variant=\"body2\" style={{ cursor: 'pointer' }}>\n        //                           Purchase\n        //                       </Typography>\n        //                     </Button>\n        //                 </Grid>\n        //             </Grid>\n        //             <Grid item xs={6} sm container>\n        //                 <Grid item xs container direction=\"column\" spacing={2}>\n        //                 <Grid item xs>\n        //                     <Typography gutterBottom variant=\"subtitle1\">\n        //                       {`${name.split(\" \").splice(0, 15).join(\" \")}`}\n        //                     </Typography>\n        //                     {/* <Typography variant=\"body2\" gutterBottom>\n        //                       A normal product\n        //                     </Typography> */}\n        //                     {/* <Typography variant=\"body2\" color=\"secondary\">\n        //                       ID: {`${id}`}\n        //                     </Typography> */}\n        //                     <Rating name={`product-rating`} value={rating} readOnly/>\n        //                 </Grid>\n\n        //                 </Grid>\n        //                 {/* <Grid item>\n        //                   <Typography variant=\"subtitle1\">${price}</Typography>\n        //                 </Grid> */}\n        //             </Grid>\n        //             <Grid item xs={1}>\n        //               <Typography variant=\"h6\">${price}</Typography>\n        //             </Grid>\n        //         </Grid>\n        //     </Paper>\n        //     {/* <PurchaseSucessModal\n        //       handleClose={handleModalClose}\n        //       open={modalOpen}\n        //       token={token}\n        //     /> */}\n        // </div>\n    );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\n\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n        // maxWidth: 360,\n        backgroundColor: theme.palette.background.paper,\n    },\n    nested: {\n        paddingLeft: theme.spacing(8),\n    },\n}));\n\nexport default function CheckboxList(props) {\n  const classes = useStyles();\n\n  const categoryList = [\"for men\", \"for women\", \"for children\", \"for friends\", \"for elder\", \"for relationship\", \"foods\", \"tools\", \"luxuries\", \"entertainment\", \"working\"];\n\n  return (\n    <List className={classes.root}>\n      <ListItem\n        key={\"all-products\"} \n        role={undefined} \n        button \n        onClick={() => props.handleCategory(\"\")}\n        className={classes.nested}\n      >\n        <ListItemText \n          id={\"list-label-all\"} \n          primary={\"All Products\"} \n          style={{\n            textTransform: \"capitalize\",\n          }}\n        />\n      </ListItem>\n      {categoryList.map((value, index) => {\n          const labelId = `list-label-${value}`;\n\n          return (\n            <ListItem\n              key={value} \n              role={undefined} \n              button \n              onClick={() => props.handleCategory(value)}\n              className={classes.nested}\n            >\n              <ListItemText \n                id={labelId} \n                primary={value} \n                style={{\n                  textTransform: \"capitalize\",\n                }}\n              />\n            </ListItem>\n          );\n      })}\n    </List>\n  );\n}\n","import React from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Collapse from '@material-ui/core/Collapse';\nimport ExpandLess from '@material-ui/icons/ExpandLess';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport CheckboxList from './CheckboxList';\nimport ListIcon from '@material-ui/icons/List';\n\n\nexport default function CollapseCategories (props) {\n    const [open, setOpen] = React.useState(true);\n\n    const handleClick = () => {\n        setOpen(!open);\n    };\n\n    return (\n        <List>\n            <ListItem button onClick={handleClick}>\n                    <ListItemIcon>\n                        <ListIcon />\n                    </ListItemIcon>\n                    <ListItemText primary=\"Categories\"/>\n                    {open ? <ExpandLess /> : <ExpandMore />}\n            </ListItem>\n            <Collapse in={open} timeout=\"auto\" unmountOnExit>\n                    <List component=\"div\" disablePadding>\n                        <CheckboxList \n                          handleCategory={props.handleCategory}\n                          // categories={props.categories} \n                          // list={} \n                        />\n                    </List>\n            </Collapse>\n            {/* <CheckboxList list={[\"For Him\", \"For Her\", \"For Baby\", \"For Pet\"]} /> */}\n        </List>\n    );\n\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport List from '@material-ui/core/List';\nimport CollapseCategories from './CollapseCategories';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n        // maxWidth: 360,\n        backgroundColor: theme.palette.background.paper,\n    },\n    nested: {\n        paddingLeft: theme.spacing(4),\n    },\n    ListItemText: {\n        marginRight: 5,\n    },\n}));\n\nexport default function ProductFilter(props) {\n    const classes = useStyles();\n\n  return (\n    <div>\n        <List\n            component=\"nav\"\n            aria-labelledby=\"nested-list-subheader\"\n            subheader={\n                <ListSubheader component=\"div\" id=\"nested-list-subheader\">\n                    Filter\n                </ListSubheader>\n            }\n            className={classes.root}\n        >\n            <CollapseCategories \n              // categories={props.categories} \n              handleCategory={props.handleCategory}\n            />\n            {/* <CollapsePriceFilter /> */}\n            {/* <ListItem button>\n                    <ListItemIcon>\n                        <LocalShippingIcon />\n                    </ListItemIcon>\n                    <ListItemText primary=\"Eligible for Free Delivery\" />\n                    <ListItemIcon>\n                            <Checkbox\n                                edge=\"start\"\n                                tabIndex={-1}\n                                disableRipple\n                            />\n                    </ListItemIcon>\n            </ListItem> */}\n        </List>\n    </div>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Fade from '@material-ui/core/Fade';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport { Link } from 'react-router-dom';\n\n\nconst useStyles = makeStyles((theme) => ({\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n  leftButton: {\n    width: \"100%\",\n    height: \"4rem\",\n  },\n  rightButton: {\n    width: \"100%\",\n    height: \"4rem\",\n  }\n}));\n\nexport default function PurchaseSuccessModal(props) {\n  const classes = useStyles();\n\n\n  const renderTitle = (type) => {\n    switch(type) {\n      case 1:\n        return <h2>Thanks for your purchase!</h2>;\n      case 2:\n        return <h2>Item added to Cart!</h2>;\n      default:\n        return <h2>Modal</h2>\n    }\n  ;}\n\n  const renderButtonRight = (type) => {\n    switch(type) {\n      case 1: // purchase success\n        return (\n          <Button\n            variant=\"outlined\"\n            component={Link}\n            to={{\n              pathname: `/profile/${props.token}`, \n            }}\n            className={classes.rightButton}\n          >\n            My orders history\n          </Button>\n        );\n      case 2: // add to cart\n        return (\n          <Button\n            variant=\"outlined\"\n            component={Link}\n            to={{\n              pathname: `/profile/${props.token}/cart`, \n            }}\n            className={classes.rightButton}\n          >\n            View my cart\n          </Button>\n        );\n      default:\n        return;\n    }\n  }\n\n  return (\n    <div>\n      <Modal\n        aria-labelledby=\"transition-modal-title\"\n        aria-describedby=\"transition-modal-description\"\n        className={classes.modal}\n        open={props.open}\n        onClose={props.handleClose}\n        closeAfterTransition\n        BackdropComponent={Backdrop}\n        BackdropProps={{\n          timeout: 500,\n        }}\n      >\n        <Fade in={props.open}>\n          <div className={classes.paper}>\n            {/* <h2 id=\"transition-modal-title\">Thanks for your purchase!</h2> */}\n            {renderTitle(props.type)}\n            <Grid container spacing={1}>\n              <Grid item xs={6}>\n                <Button\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  onClick={props.handleClose}\n                  className={classes.leftButton}\n                >\n                  Continue Shopping\n                </Button>\n              </Grid>\n              \n              <Grid item xs={6}>\n                {renderButtonRight(props.type)}\n                {/* <Button\n                  variant=\"outlined\"\n                  component={Link}\n                  to={{\n                    pathname: `/profile/${props.token}`, \n                  }}\n                >\n                  My orders history\n                </Button> */}\n              </Grid>\n            </Grid>\n          </div>\n        </Fade>\n      </Modal>\n    </div>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Fade from '@material-ui/core/Fade';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport { Link } from 'react-router-dom';\n\n\nconst useStyles = makeStyles((theme) => ({\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n}));\n\nexport default function NotLoginModal(props) {\n  const classes = useStyles();\n\n  return (\n    <div>\n      <Modal\n        aria-labelledby=\"transition-modal-title\"\n        aria-describedby=\"transition-modal-description\"\n        className={classes.modal}\n        open={props.open}\n        onClose={props.handleClose}\n        closeAfterTransition\n        BackdropComponent={Backdrop}\n        BackdropProps={{\n          timeout: 500,\n        }}\n      >\n        <Fade in={props.open}>\n          <div className={classes.paper}>\n            <h2 id=\"transition-modal-title\">Sorry, you are not logged in!</h2>\n            <Grid container spacing={1}>\n              <Grid item xs={6}>\n                <Button\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  onClick={props.handleClose}\n                >\n                  Continue Browsing\n                </Button>\n              </Grid>\n              <Grid item xs={6}>\n                <Button\n                  variant=\"outlined\"\n                  component={Link}\n                  to={{\n                    pathname: `/login`, \n                  }}\n                >\n                  Login Now\n                </Button>\n              </Grid>\n            </Grid>\n          </div>\n        </Fade>\n      </Modal>\n    </div>\n  );\n}\n","import React, { useEffect } from 'react';\n\nexport default function Chatbot(props) {\n  useEffect((() => {\n    (function(d, m){\n      var kommunicateSettings = {\n        \"appId\":\"cd40e2ea8c553cb40b92422863201a17\",\n        \"popupWidget\":true,\n        \"automaticChatOpenOnNavigation\":true,\n        // \"OnInit\": function() {\n        //   var css = \".chat-popup-widget-container{background-color: blue!important;}\"\n        //   Kommunicate.customizeWidgetCss(css);\n        // },\n      };\n\n      let s = document.createElement(\"script\");     \n      s.type = \"text/javascript\"; \n      s.async = true;\n      s.src = \"https://widget.kommunicate.io/v2/kommunicate.app\";\n\n      let h = document.getElementsByTagName(\"head\")[0]; \n      h.appendChild(s);\n\n      window.kommunicate = m; \n      m._globals = kommunicateSettings;\n    })(document, window.kommunicate || {});\n\n  }), []);\n\n  return (\n    <div></div>\n  );\n}","import React, { useRef, useEffect, useState } from \"react\";\n// import ProductCard from \"../components/ProductCard\";\nimport ProductCardNew from \"../components/ProductCardNew\";\nimport ProductFilter from \"../components/ProductFilter\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Pagination from \"@material-ui/lab/Pagination\";\nimport Box from \"@material-ui/core/Box\";\nimport NavBar from \"../components/NavBar\";\nimport axios from 'axios';\nimport PurchaseSucessModal from '../components/modals/PurchaseSuccessModal';\nimport NotLoginModal from '../components/modals/NotLoginModal';\nimport AuthContext from '../AuthContext';\nimport Chatbot from '../components/chat/Chatbot';\nimport GridList from '@material-ui/core/GridList';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\nimport { Link } from 'react-router-dom';\nimport ThumbUpAltIcon from '@material-ui/icons/ThumbUpAlt';\nimport { useHistory } from 'react-router'\nimport CustomSnackBar from '../components/CustomSnackbar';\n\n\nconst ERROR = 460;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  main: {\n    // padding: 10,\n    marginTop: \"1rem\",\n    width: \"90%\",\n  },\n  leftContainer: {\n\n  },\n  rightContainer: {\n    // overflowX: \"hidden\",\n    // padding: 50,\n  },\n  pagination: {\n    justifySelf: \"end\",\n  },\n  fab: {\n    position: \"fixed\",\n    bottom: 40,\n    right: 20,\n  },\n  popper: {\n    marginRight: \"1rem\",\n  },\n  recommendations: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'space-around',\n    overflow: 'hidden',\n    backgroundColor: theme.palette.background.paper,\n    // height: \"20rem\"\n  },\n  gridList: {\n    flexWrap: 'nowrap',\n    // Promote the list into his own layer on Chrome. This cost memory but helps keeping high FPS.\n    transform: 'translateZ(0)',\n  },\n  gridListTitle: {\n    color: theme.palette.secondary.contrastText,\n  },\n  titleBar: {\n    background:\n      'linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)',\n  },\n\n}));\n\nconst strToNumList = (str) => {\n  const CATEGORIES = [\"for men\", \"for women\", \"for children\", \"for friends\", \"for elder\", \"for relationship\", \"foods\", \"tools\", \"luxuries\", \"entertainment\", \"working\"];\n  let output = Array(11).fill(0);\n\n  let index = CATEGORIES.indexOf(str);\n\n  if (index >= 0) {\n    output[index] = 1;\n  }\n\n  return output;\n}\n\nfunction ProductsPage(props) {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const [totalPages, setTotalPages] = useState(0);\n  const [products, setProducts] = useState([]);\n  const [recommendation, setRecommendation] = useState([]);\n  const [result, setResult] = useState(true);\n  const [navbarReload, setNavbarReload] = useState(0);\n  const [alertOpen, setAlertOpen] = useState(false);\n  const [alertInfo, setAlertInfo] = useState({\n    severity: \"\",\n    message: \"\",\n  })\n\n  const [infos, setInfos] = useState({\n    page: 1,\n    keyword: \"\",\n    category: \"\",\n  });\n\n  const token = React.useContext(AuthContext).user;\n  const [psModalOpen, setPsModalOpen] = useState(false);\n  const [nlModalOpen, setNlModalOpen] = useState(false);\n\n  const handlePsModalOpen = () => {\n    setPsModalOpen(true);\n  };\n\n  const handlePsModalClose = () => {\n    setPsModalOpen(false);\n  };\n  const handleNlModalOpen = () => {\n    setNlModalOpen(true);\n  };\n\n  const handleNlModalClose = () => {\n    setNlModalOpen(false);\n  };\n\n  function usePrevious(value) {\n    const ref = useRef();\n    useEffect(() => {\n      ref.current = value;\n    });\n    return ref.current;\n  }\n\n  const prevKeyword = usePrevious(infos.keyword);\n\n  const retrieveProducts = () => {\n    axios.post('/product/search', {\n      token: token ? token : \"\",\n      // page: prevKeyword !== keyword ? 1 : currPage, \n      page: infos.page,\n      keyword: infos.keyword,\n      category: strToNumList(infos.category),\n      price_range: [],\n    })\n    .then((response) => {\n      const data = response.data;\n\n      if (data.code === ERROR) {\n        history.push('/404');\n      }\n\n      const flag = data.flag;\n      if (!flag) {\n        setResult(false);\n      } else {\n        setResult(true);\n      }\n\n      setTotalPages(data['total_pages']);\n      setProducts(data['product_lst']);\n      setRecommendation(data[\"recommendation_list\"]);\n\n      if (prevKeyword !== infos.keyword) {\n        setInfos({\n          ...infos,\n          category: \"\",\n          page: 1,\n        })\n      }\n    })\n  };\n\n  // eslint-disable-next-line\n  React.useEffect(retrieveProducts, [infos]);\n\n\n  const handlePageChange = (event, number) => {\n    setInfos({\n      ...infos,\n      page: number,\n    })\n  };\n\n\n  const renderSearchTitle = (\n    result ? \n      ((infos.keyword == null || infos.keyword === \"\") ?\n        <h3 style={{textTransform: \"capitalize\"}}>{infos.category}</h3> : <h3>Search result of \"{infos.keyword}\"</h3>)\n      : <h3>Sorry, no result of \"{infos.keyword}\". Take a look at our other products instead</h3>\n  );\n\n\n\n  const [modalType, setModalType] = useState(1);\n\n  const handleCategory = (category) => {\n    setInfos({\n      keyword: \"\",\n      category: category,\n      page: 1,\n    })\n  };\n\n  const setKeyword = (keyword) => {\n    setInfos({\n      ...infos,\n      keyword: keyword,\n    });\n  }\n\n  return (\n    <div className={classes.root}>\n      <NavBar\n        className={classes.navBar} \n        setKeyword={setKeyword}\n        reload={navbarReload}\n      />\n      <Box\n        className={classes.main}\n      >\n        <Grid container spacing={0}>\n          <Grid className={classes.leftContainer} container item xs={12} sm={2}>\n            <Grid item xs={12}>\n              <ProductFilter\n                // categories={category}\n                handleCategory={handleCategory}\n              />\n            </Grid>\n          </Grid>\n\n          <Grid \n            className={classes.rightContainer} \n            container item xs={12} sm={10} spacing={3}\n          >\n            {recommendation.length > 0 &&\n              <Grid\n                className={classes.recommendations}\n                container\n                item\n                xs={12}\n                spacing={2}\n                style={{\n                  // backgroundColor: \"red\"\n                }}\n              >\n                <Grid item xs={12}>\n                  <h4><ThumbUpAltIcon />Recommendations for you:</h4>\n                </Grid>\n                <Grid item xs={12}>\n                  <GridList className={classes.gridList} cols={4.5} >\n                    {recommendation.map(x => (\n                      <GridListTile \n                        key={`rec-${x['product_id']}`} \n                        style={{height: \"10rem\"}}\n                        component={Link}\n                        to={`/product/${x['product_id']}`}\n                      >\n                        {/* <ButtonBase\n                          component={Link}\n                          to={`/product/${x['product_id']}`}\n                        >\n                        </ButtonBase> */}\n                          <img\n                            src={x['pic_link']}\n                            alt={`product-${x['product_id']}`}\n                            style={{\n                              // width: \"10rem\",\n                              height: \"10rem\",\n                              // width: \"100%\",\n                              // height: \"100%\",\n                            }}\n                          />\n                        <GridListTileBar\n                          title={x['name']}\n                          classes={{\n                            root: classes.titleBar,\n                            title: classes.gridListTitle,\n                          }}\n                          // actionIcon={\n                            // <ButtonGroup\n                            //   className={classes.gridListTitle}\n                            //   color=\"primary\"\n                            //   variant=\"text\"\n                            //   disableElevation\n                            // >\n                            //   <IconButton\n                            //     aria-label={`cart-${x['name']}`}\n                            //     component={Link}\n                            //     to={`/product/${x['product_id']}`}\n                            //   >\n                            //     <InfoOutlinedIcon  />\n                            //   </IconButton>\n                            //   <IconButton\n                            //     aria-label={`cart-${x['name']}`}\n                            //     onClick={handleAddToCart(x['product_id'])}\n                            //   >\n                            //     <ShoppingCartIcon  />\n                            //   </IconButton>\n                            //   <Button\n                            //     onClick={handlePurchase(x['product_id'])}\n                            //   >\n                            //     Buy\n                            //   </Button>\n                            // </ButtonGroup>\n                          // }\n                        />\n                      </GridListTile>\n                    ))}\n                  </GridList>\n                </Grid>\n              </Grid>\n            }\n            <Grid\n              className={classes.productsGrid}\n              container\n              item\n              xs={12}\n              spacing={2}\n            >\n              <Grid item xs={12}>\n                {renderSearchTitle}\n              </Grid>\n              {products.map((x) =>\n                <Grid key={`product-${x['product_id']}`} item xs={12} sm={4}>\n                  <ProductCardNew\n                    key={`product-${x['product_id']}`}\n                    id={x['product_id']}\n                    name={x['name']}\n                    price={x['price']}\n                    rating={x['rating']}\n                    img={x['pic_link']}\n                    handlePsModalOpen={handlePsModalOpen}\n                    handlePsModalClose={handlePsModalClose}\n                    handleNlModalOpen={handleNlModalOpen}\n                    handleNlModalClose={handleNlModalClose}\n                    setModalType={setModalType}\n                    setNavbarReload={setNavbarReload}\n                    setAlertOpen={setAlertOpen}\n                    setAlertInfo={setAlertInfo}\n                  />\n                </Grid>\n              )}\n              {/* </Grid> */}\n            </Grid>\n            <Grid\n              className={classes.pagination}\n              item\n              xs={12}\n            >\n              <Pagination\n                count={totalPages}\n                color=\"secondary\"\n                variant=\"outlined\"\n                shape=\"rounded\"\n                size=\"large\"\n                page={infos.page}\n                onChange={handlePageChange}\n              />\n              <p>page {infos.page} of {totalPages}</p>\n            </Grid>\n\n          </Grid>\n        </Grid>\n      </Box>\n      <PurchaseSucessModal\n        handleClose={handlePsModalClose}\n        open={psModalOpen}\n        token={token}\n        type={modalType}\n      />\n      <NotLoginModal\n        handleClose={handleNlModalClose}\n        open={nlModalOpen}\n        token={token}\n      />\n      <Chatbot />\n      {alertOpen && \n        <CustomSnackBar \n          severity={alertInfo.severity}\n          message={alertInfo.message}\n          open={alertOpen}\n          setOpen={setAlertOpen}\n        />\n      }\n    </div>\n  );\n}\n\nexport default ProductsPage;\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport ButtonGroup from \"@material-ui/core/ButtonGroup\";\n\nfunction QuantitySelect(props) {\n  return (\n    <ButtonGroup color=\"secondary\" variant=\"contained\" disableElevation style={{width: \"100%\"}}>\n      <Button onClick={props.handleDecrement}>-</Button>\n      <Button\n        color=\"primary\"\n      >\n        {props.amount}\n      </Button>\n      <Button onClick={props.handleIncrement}>+</Button>\n    </ButtonGroup>\n  );\n}\n\nexport default QuantitySelect;","import React, { useState } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Rating from '@material-ui/lab/Rating';\nimport Button from '@material-ui/core/Button';\nimport axios from 'axios';\nimport QuantitySelect from './QuantitySelect';\nimport AuthContext from '../AuthContext';\nimport PurchaseSucessModal from '../components/modals/PurchaseSuccessModal';\nimport NotLoginModal from '../components/modals/NotLoginModal';\nimport { FUND_ALERT } from '../utils/AlertInfo';\nimport { NOT_ENOUGH_FUND } from '../utils/ErrorCode';\nimport CustomSnackBar from './CustomSnackbar';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"Column\",\n    alignItems: \"center\",\n  },\n  grid: {\n    width: \"80%\",\n  },\n  image: {\n    width: \"20rem\",\n    height: \"20rem\",\n  },\n  imageContainer: {\n    display: \"flex\",\n    justifyContent: \"flex-end\",\n  },\n  details: {\n    display: \"flex\",\n    flexDirection: \"column\",\n  }\n}));\n\nexport default function Product(props) {\n  const classes = useStyles();\n  // eslint-disable-next-line\n  const theme = useTheme();\n  const token = React.useContext(AuthContext).user;\n\n  const id = props.id;\n  const [infos, setInfos] = React.useState({\n    id: props.id,\n    name: \"\",\n    price: 100,\n    description: \"\",\n    delivery: \"\",\n    rating: \"\",\n    img: \"\",\n  });\n  const [amount, setAmount] = React.useState(1);\n  const [alertOpen, setAlertOpen] = useState(false);\n  const [alertInfo, setAlertInfo] = useState({\n    severity: \"\",\n    message: \"\",\n  });\n\n\n  React.useEffect((() => {\n    axios.get('/product/get_info', {\n      params: {\n        id,\n      }\n    })\n      .then((response) => {\n        const data = response.data;\n        \n        setInfos({\n          name: data['name'],\n          price: data['price'],\n          description: data['description'],\n          delivery: data['delivery'],\n          rating: data['rating'],\n          img: data['pic_link'],\n        });\n      })\n      .catch((err) => {});\n  }), [id]);\n\n  const handleIncrement = () => {\n    setAmount(amount + 1);\n  };\n\n  const handleDecrement = () => {\n    if (amount - 1 >= 1) {\n      setAmount(amount - 1);\n    } else {\n      setAmount(1);\n    }\n  };\n\n  const [psModalOpen, setPsModalOpen] = useState(false);\n  const [nlModalOpen, setNlModalOpen] = useState(false);\n  const [modalType, setModalType] = useState(1);\n\n\n  const handlePsModalOpen = () => {\n    setPsModalOpen(true);\n  };\n\n  const handlePsModalClose = () => {\n    setPsModalOpen(false);\n  };\n  const handleNlModalOpen = () => {\n    setNlModalOpen(true);\n  };\n\n  const handleNlModalClose = () => {\n    setNlModalOpen(false);\n  };\n\n\n  const handlePurchase = () => {\n    if (!token) {\n      handleNlModalOpen();\n      return;\n    }\n\n    let info = [\n      [id, amount]\n    ];\n\n    let payload = {\n      token: token,\n      list: info,\n    };\n\n    axios({\n      url: \"/order/new\",\n      method: \"post\",\n      data: payload,\n    })\n    .then(response => {\n      const data = response.data;\n\n      if (data.code === NOT_ENOUGH_FUND) {\n        setAlertInfo(FUND_ALERT);\n        setAlertOpen(true);\n      } else {\n        setModalType(1);\n        handlePsModalOpen();\n      }\n\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  };\n\n  const handleAddToCart = () => {\n    if (!token) {\n      handleNlModalOpen();\n      return;\n    }\n\n    axios.post(\"/user/cart/add\",\n      {\n        token: token,\n        product_id: id,\n        amount: amount,\n      }\n    )\n    .then((response) => {\n      props.setNavbarReload();\n      setModalType(2);\n      handlePsModalOpen();\n    })\n    .catch((err) => {});\n  };\n\n\n  return (\n    <div className={classes.root}>\n      <Grid\n        container \n        className={classes.grid}\n        spacing={5}\n        direction=\"row\"\n        justify=\"flex-end\"\n      >\n        <Grid\n          className={classes.imageContainer}\n          item \n          sm={5}\n          xs={12}\n        >\n          <img className={classes.image} src={infos.img} alt=\"product\"/>\n        </Grid>\n        <Grid\n          container\n          item\n          sm={7}\n          xs={12}\n          spacing={2}\n        >\n          <Grid item xs={12}>\n            <Typography variant=\"h4\">\n              {infos.name}\n            </Typography>\n          </Grid>\n          <Grid item xs={12}>\n            <Rating \n              name={`product-rating`} \n              value={infos.rating} \n              precision={0.5} \n              readOnly\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <Typography variant=\"h4\">\n              ${infos.price}\n            </Typography>\n          </Grid>\n          <Grid item xs={12}>\n            <Typography\n              variant='body1'\n            >\n              {infos.description}\n            </Typography>\n          </Grid>\n          {/* <Grid item xs={12}>\n            <Typography\n              variant='body1'\n            >\n              Delivery: ${infos.delivery}\n            </Typography>\n          </Grid> */}\n          <Grid container item xs={12}>\n            <Grid item xs={2}>\n              <QuantitySelect\n                amount={amount}\n                handleIncrement={handleIncrement}\n                handleDecrement={handleDecrement}\n              />\n            </Grid>\n          </Grid>\n          <Grid  container item xs={12}>\n            <Grid item xs={3}>\n              Total: ${amount * infos.price}\n            </Grid>\n          </Grid>\n\n          <Grid\n            container\n            item\n            xs={12}\n            alignItems=\"center\"\n            spacing={1}\n          >\n            <Grid item xs={6} sm={3} >\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={handlePurchase}\n                style={{\n                  width: \"100%\"\n                }}\n              >\n                Purchase\n              </Button>\n            </Grid>\n            <Grid item xs={6} sm={3}>\n              <Button \n                variant=\"outlined\" \n                color=\"secondary\" \n                onClick={handleAddToCart}\n                style={{\n                  width: \"100%\"\n                }}\n              >\n                Add to Cart\n              </Button>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n      <PurchaseSucessModal\n        handleClose={handlePsModalClose}\n        open={psModalOpen}\n        token={token}\n        type={modalType}\n      />\n      <NotLoginModal\n        handleClose={handleNlModalClose}\n        open={nlModalOpen}\n        token={token}\n      />\n      {alertOpen && \n        <CustomSnackBar \n          severity={alertInfo.severity}\n          message={alertInfo.message}\n          open={alertOpen}\n          setOpen={setAlertOpen}\n        />\n      }\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport NavBar from '../components/NavBar';\nimport Product from '../components/Product';\n// import axios from 'axios';\n\nexport default function ProductDetailPage(props) {\n  const id = props.match.params.id;\n  const [navbarReload, setNavbarReload] = useState(0);\n\n  return (\n    <div>\n      <NavBar reload={navbarReload}/>\n      <Product id={id} setNavbarReload={() => setNavbarReload(prev => prev + 1)}/>\n    </div>\n  );\n}","import React, { useState } from 'react';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport AuthContext from '../../AuthContext';\nimport Grid from '@material-ui/core/Grid';\nimport IconButton from '@material-ui/core/IconButton';\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\nimport RemoveCircleOutlineIcon from '@material-ui/icons/RemoveCircleOutline';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport Button from '@material-ui/core/Button'\nimport axios from 'axios';\nimport { NOT_ENOUGH_FUND } from '../../utils/ErrorCode';\nimport { FUND_ALERT, THANKS_ALERT } from '../../utils/AlertInfo';\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    borderRadius: 5,\n    overflow: \"hidden\",\n    // height: \"10rem\",\n    width: \"100%\",\n  },\n  grid: {\n    //height: \"10rem\",\n  },\n  img: {\n    //width: \"10rem\",\n    height: \"10rem\",\n    maxWidth: \"100%\",\n    // margin: 10,\n    padding: 10,\n  },\n}));\n\nfunction CartProductCard(props) {\n  const classes = useStyles();\n  const theme = useTheme();\n\tconst token = React.useContext(AuthContext).user;\n  const item = props.item;\n\n  // eslint-disable-next-line\n  const [id, setID] = useState(item[\"product_id\"]);\n  // eslint-disable-next-line\n  const [img, setImg] = useState(item[\"pic_link\"]);\n  // eslint-disable-next-line\n  const [name, setName] = useState(item[\"product_name\"]);\n  const [amount, setAmount] = useState(item[\"amount\"]);\n\n  const handleDecrement = () => {\n    if (amount - 1 <= 0) {\n      setAmount(0);\n    } else {\n      setAmount(amount - 1);\n    }\n\n    axios.post(\"/user/cart/change\", {\n      token: token,\n      \"product_id\": id,\n      amount: amount-1,\n    })\n    .then((response) => {\n      props.setReload(prev => prev + 1);\n    })\n    .catch((err) => {});\n  };\n\n  const handleIncrement = () => {\n    setAmount(amount + 1);\n\n    axios.post(\"/user/cart/change\", {\n      token: token,\n      \"product_id\": id,\n      amount: amount+1,\n    })\n    .then((response) => {\n      // props.handleTotalPaymentChange(price);\n      props.setReload(prev => prev + 1);\n\n    })\n    .catch((err) => {});\n  };\n\n  const handlePurchase = () => {\n    let info = [\n      [id, amount]\n    ];\n\n    let payload = {\n      token: token,\n      list: info,\n    };\n\n    axios({\n      url: \"/order/new\",\n      method: \"post\",\n      data: payload,\n    })\n    .then(response => {\n      const data = response.data;\n\n      if (data.code === NOT_ENOUGH_FUND) {\n        props.setAlertInfo(FUND_ALERT);\n        props.setAlertOpen(true);\n\n      } else {\n        // reload\n        props.setAlertInfo(THANKS_ALERT);\n        props.setAlertOpen(true);\n        props.setReload(prev => prev + 1);\n      }\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n\n  return (\n    <div\n      className={classes.root}\n      style={{\n        border: `1px solid ${theme.palette.primary.contrastText}`\n      }}\n    >\n      <Grid\n        className={classes.grid}\n        container \n        spacing={2}\n        alignItems=\"center\"\n      >\n        <Grid item xs={3}>\n          <img className={classes.img} src={img} \n            // style={{\n            //   border: `1px solid ${theme.palette.primary.contrastText}`\n            // }}\n            alt=\"\"\n          />\n        </Grid>\n        \n        <Grid item xs={3}>\n          {name}\n        </Grid>\n        <Grid item xs={2}>\n          <p>Quantity: {amount}</p>\n          <p>{`Item price: $${item.price}`}</p>\n          <p>{`Total price: $${item.cost}`}</p>\n        </Grid>\n        <Grid container item xs={4} justify=\"flex-end\">\n          <Grid item xs={12}>\n              <ButtonGroup>\n                <IconButton color=\"secondary\" onClick={handleDecrement} >\n                  <RemoveCircleOutlineIcon />\n                </IconButton>\n                <IconButton color=\"secondary\" onClick={handleIncrement} >\n                  <AddCircleOutlineIcon />\n                </IconButton>\n                <Button variant=\"contained\" color=\"primary\" onClick={handlePurchase}>\n                  Buy\n                </Button>\n              </ButtonGroup>\n          </Grid>\n        </Grid>\n        <div>\n        </div>\n      </Grid>\n    </div>\n  );\n}\n\nexport default CartProductCard;","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport AuthContext from '../AuthContext';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport NavBar from '../components/NavBar';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport CartProductCard from '../components/cart/CartProductCard';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button'\nimport { useHistory } from 'react-router'\nimport CustomSnackBar from '../components/CustomSnackbar';\nimport { FUND_ALERT, EMPTY_ALERT, THANKS_ALERT } from '../utils/AlertInfo';\nimport { NOT_ENOUGH_FUND } from '../utils/ErrorCode';\n\nconst useStyles = makeStyles((theme) => ({\n  title: {\n\n  },\n  checkoutBtn: {\n    width: \"100%\",\n  },\n}));\n\n\n\nfunction CartPage(props) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const token = React.useContext(AuthContext).user;\n  const history = useHistory()\n\n  // eslint-disable-next-line\n  const [totalItems, setTotalItems] = useState(0);\n  // eslint-disable-next-line\n  const [totalPayment, setTotalPayment] = useState(0);\n  const [products, setProducts] = useState([]);\n  const [reload, setReload] = useState(0);\n  const [alertOpen, setAlertOpen] = useState(false);\n  const [alertInfo, setAlertInfo] = useState({\n    severity: \"\",\n    message: \"\",\n  })\n\n  useEffect((() => {\n    axios.get('/user/cart/list', {\n      params: {\n        token,\n      }\n    })\n    .then((response) => {\n      const data = response.data;\n      console.log(data);\n      setProducts(data);\n    })\n    .catch((err) => {});\n\n    axios.get('/user/cart/cost', {\n      params: {\n        token,\n      }\n    })\n    .then((response) => {\n      const cost = response.data.cost;\n\n      setTotalPayment(cost);\n    })\n    .catch((err) => {});\n\n  }), [token, reload]);\n\n  const handleCheckout = () => {\n    if (products.length === 0) {\n      setAlertInfo(EMPTY_ALERT);\n      setAlertOpen(true);\n\n      return;\n    }\n\n    let cartProducts = products.map((x) => [x[\"product_id\"], x[\"amount\"]]);\n\n    let payload = {\n      token: token,\n      list: cartProducts,\n    };\n\n    axios({\n      url: \"/order/new\",\n      method: \"post\",\n      data: payload,\n    })\n    .then(response => {\n      const data = response.data;\n\n      if (data.code === NOT_ENOUGH_FUND) {\n        setAlertInfo(FUND_ALERT);\n        setAlertOpen(true);\n      } else { \n        setAlertInfo(THANKS_ALERT);\n        setAlertOpen(true);\n        setReload(prev => prev + 1);\n      }\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  };\n\n  return (\n    <div>\n      <NavBar reload={reload}/>\n      <Box \n        ml={theme.spacing(1)} mr={theme.spacing(1)}\n      >\n        <Grid\n          container\n          spacing={2}\n        >\n          <Grid item xs={12}>\n            <Typography variant=\"h3\" align=\"center\">\n              My Cart\n            </Typography>\n          </Grid>\n          <Grid container item xs={12} spacing={2}>\n            <Grid container item xs={9} spacing={2}>\n              {products.map((x) => \n                <Grid key={`${x[\"product_id\"]}-${x[\"product_name\"]}-${x[\"amount\"]}`} item xs={12}>\n                  <CartProductCard \n                    item={x} \n                    history={history}\n                    setAlertOpen={setAlertOpen}\n                    setAlertInfo={setAlertInfo}\n                    setReload={setReload}\n                  />\n                </Grid>\n              )}\n            </Grid>\n            <Grid item xs={3}>\n              <Box\n                p={2}\n                border={1}\n                borderColor={theme.palette.primary.contrastText}\n                borderRadius={5}\n              >\n                <Typography variant=\"h5\">\n                  Total Products in Cart\n                </Typography>\n                {products.length}\n                <Typography variant=\"h5\">\n                  Total Payment\n                </Typography>\n                <b>{`$${totalPayment}`}</b>\n                <Button \n                  className={classes.checkoutBtn} \n                  variant=\"contained\" \n                  color=\"secondary\"\n                  style={{\n                    marginTop: \"2rem\",\n                  }}\n                  onClick={handleCheckout}\n                >\n                  CHECKOUT\n                </Button>\n              </Box>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Box>\n      {alertOpen && \n        <CustomSnackBar \n          severity={alertInfo.severity}\n          message={alertInfo.message}\n          open={alertOpen}\n          setOpen={setAlertOpen}\n        />\n      }\n    </div>\n  );\n}\n\nexport default CartPage;","import React from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Link from '@material-ui/core/Link';\nimport Paper from '@material-ui/core/Paper';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport axios from 'axios';\nimport SupervisorAccountIcon from '@material-ui/icons/SupervisorAccount';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport IconButton from '@material-ui/core/IconButton';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\n\nconst INVALID_NAME = 464;\nconst INVALID_PASSWORD = 465;\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {'Copyright  '}\n      <Link color=\"inherit\" href=\"/\">\n        V-Gift\n            </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: '100vh',\n  },\n  image: {\n    backgroundImage: `url(/img/home/home-4.jpeg)`,\n    backgroundRepeat: 'no-repeat',\n    backgroundColor:\n      theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n  },\n  paper: {\n    margin: theme.spacing(8, 4),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n  adminButton: {\n    position: \"fixed\",\n    bottom: 10,\n    right: 10,\n  }\n}));\n\nfunction AdminLoginPage({ setAdminAuth, ...props }) {\n  const [infos, setInfos] = React.useState({\n    name: \"\",\n    password: \"\",\n    showPassword: false,\n  });\n\n  const handleChange = name => event => {\n    setInfos({\n      ...infos,\n      [name]: event.target.value\n    });\n  };\n\n  const [state, setState] = React.useState({\n    nameError: false,\n    passwordError: false,\n    help_text: \"\"\n  });\n\n  const handle_error = () => event => {\n    setState({\n      nameError: false,\n      passwordError: false,\n      help_text: \"\"\n    });\n  };\n\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    if (!infos.name || !infos.password) {\n      setState({\n        // error: true,\n        nameError: true,\n        passwordError: true,\n        help_text: \"All fields have to be finished before logging you in\"\n      });\n      return;\n    }\n\n    axios.post('admin/login', { \n      name: infos.name,\n      password: infos.password,\n     })\n    .then((response) => {\n      const data = response.data;\n      if (data.code === INVALID_NAME) {\n        // admin name does not exist\n        setState({\n          nameError: true,\n          help_text: \"The entered admin name does not exist\"\n        });\n      } else if (data.code === INVALID_PASSWORD) {\n        // wrong password\n        setState({\n          passwordError: true,\n          help_text: \"The password entered is incorrect\"\n        });\n      } else {\n        console.log(data);\n        setAdminAuth(data[\"token\"], data[\"admin_id\"]);\n        props.history.push(`/admin/${data.token}`);\n      }\n    })\n    .catch((err) => { });\n  }\n\n  const handleClickShowPassword = () => {\n    setInfos({ ...infos, showPassword: !infos.showPassword });\n  };\n\n  const handleMouseDownPassword = (event) => {\n    event.preventDefault();\n  };\n\n  const classes = useStyles();\n\n\n  return (\n    <Grid container component=\"main\" className={classes.root}>\n      <CssBaseline />\n      <Grid item xs={false} sm={4} md={7} className={classes.image} />\n      <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\n        <div className={classes.paper}>\n          <Avatar className={classes.avatar}>\n            <SupervisorAccountIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            V-Gifts Admin Sign in\n          </Typography>\n          <form className={classes.form} noValidate onSubmit={handleSubmit}>\n            <TextField\n              error={state.nameError}\n              helperText={state.help_text}\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              label=\"Admin Account Name\"\n              autoFocus\n              onChange={handleChange('name')}\n              onClick={handle_error()}\n            />\n            <OutlinedInput\n              type={infos.showPassword ? 'text' : 'password'}\n              value={infos.password}\n              error={state.passwordError}\n              helperText={state.help_text}\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Admin Password\"\n              id=\"password\"\n              autoComplete=\"current-password\"\n              onChange={handleChange('password')}\n              onClick={handle_error()}\n              endAdornment={\n                <InputAdornment position=\"end\">\n                  <IconButton\n                    aria-label=\"toggle password visibility\"\n                    onClick={handleClickShowPassword}\n                    onMouseDown={handleMouseDownPassword}\n                    edge=\"end\"\n                  >\n                    {infos.showPassword ? <Visibility /> : <VisibilityOff />}\n                  </IconButton>\n                </InputAdornment>\n              }\n            />\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n            >\n              Sign In\n            </Button>\n            <Box mt={5}>\n              <Copyright />\n            </Box>\n          </form>\n        </div>\n      </Grid>\n    </Grid>\n  );\n}\n\nexport default AdminLoginPage;\n","import React from 'react';\nimport NavBar from '../components/NavBar';\n\nexport default function NotFoundPage(props) {\n  return (\n    <div>\n      <NavBar />\n      <h1>404 NOT FOUND</h1>\n    </div>\n  );\n}","import React from 'react';\nimport { Redirect, Route } from 'react-router-dom';\nimport AuthContext from '../AuthContext';\n\nexport default function ProtectedRoute(props) {\n  const token = React.useContext(AuthContext).user;\n  console.log(token);\n  if (!token) {\n    return <Redirect to=\"/login\" />;\n  }\n  return <Route {...props} />;\n}\n","import React from 'react';\nimport { Redirect, Route } from 'react-router-dom';\nimport AuthContext from '../AuthContext';\n\nexport default function AdminRoute(props) {\n  const token = React.useContext(AuthContext).admin;\n  console.log(token);\n  if (!token) {\n    return <Redirect to=\"/admin/login\" />;\n  }\n  return <Route {...props} />;\n}\n","import React from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\nimport './axios';\n\nimport AdminPage from './pages/AdminPage';\nimport HomePage from './pages/HomePage';\nimport LoginPage from './pages/LoginPage';\nimport ProfilePage from './pages/ProfilePage';\nimport RegisterStepperPage from './pages/RegisterStepperPage';\nimport ProductsPage from './pages/ProductsPage';\nimport ProductDetailPage from './pages/ProductDetailPage';\nimport CartPage from './pages/CartPage';\nimport AdminLoginPage from './pages/AdminLoginPage';\nimport NotFoundPage from './pages/NotFoundPage';\n\nimport { AuthProvider } from './AuthContext';\nimport ProtectedRoute from './utils/ProtectedRoute';\nimport AdminRoute from './utils/AdminRoute';\n\n// https://material.io/resources/color/#!/?view.left=0&view.right=0&secondary.color=2196F3&secondary.text.color=FAFAFA&primary.color=FFC400\nconst theme = createMuiTheme({\n\tpalette: {\n\t\tprimary: {\n\t\t\tlight: '#fff64f',\n\t\t\tmain: '#ffc400',\n\t\t\tdark: '#c79400',\n\t\t\tcontrastText: '#000000',\n    },\n\t\tsecondary: {\n      light: '#6ec6ff',\n      main: '#2196f3',\n      dark: '#0069c0',\n      contrastText: '#fafafa',\n\t\t},\n\t},\n});\n\n\nfunction App() {\n\t// using hooks here to set state for the App\n  // eslint-disable-next-line\n\tconst [authDetails, setAuthDetails] = React.useState(\n    // localStorage.getItem('token')\n\t\tlocalStorage.getItem('token')\n\t);\n\n  // eslint-disable-next-line\n  const [adminDetails, setAdminDetails] = React.useState(\n    localStorage.getItem('admin_token')\n  );\n\n\n\t// define a function to store details into local storage\n\tconst setAuth = (token, id) => {\n\t\tlocalStorage.setItem('token', token);\n\t\tlocalStorage.setItem('id', id);\n\n\t\t// setAuthDetails(token);\n    setAuthDetails(token);\n\t};\n\n  const setAdminAuth = (token, id) => {\n    localStorage.setItem('admin_token', token);\n\t\tlocalStorage.setItem('admin_id', id);\n\n    setAdminDetails(token);\n  };\n\t\n  return (\n\t\t\t<ThemeProvider theme={theme}>\n\t\t\t\t<AuthProvider value={{user: authDetails, admin: adminDetails}}>\n          <Router>\n            <Switch>\n              <Route exact path=\"/\" component={HomePage} />\n              <Route \n                exact \n                path=\"/login\"\n                render={(props) => {\n                  return <LoginPage {...props} setAuth={setAuth} />;\n                }} \n              />\n              <Route \n                exact \n                path=\"/register\" \n                render={(props) => {\n                  return <RegisterStepperPage {...props} setAuth={setAuth} />;\n                }}  \n              />\n              <Route \n                exact \n                path=\"/admin/login\" \n                render={(props) => {\n                  return <AdminLoginPage {...props} setAdminAuth={setAdminAuth} />;\n                }} \n              />\n              <Route \n                path=\"/products\" \n                component={ProductsPage}\n                // render={(props) => {\n                //   return <ProductsPage {...props} key={window.location.pathname} />\n                // }}\n              />\n              <Route exact path=\"/product/:id\" component={ProductDetailPage} />\n              <ProtectedRoute exact path=\"/profile/:id\" component={ProfilePage} />\n              <ProtectedRoute exact path=\"/profile/:id/cart\" component={CartPage} />\n              <AdminRoute exact path=\"/admin/:token\" component={AdminPage} />\n              <Route component={NotFoundPage} />\n            </Switch>\n          </Router>\n        </AuthProvider>\n\t\t\t</ThemeProvider>\n\t);\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport { Provider } from 'react-redux';\nimport { createStore } from 'redux';\nimport CartReducer from './components/reducers/CartReducer';\n\nconst store = createStore(CartReducer);\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","\n\nexport default function CartReducer() {\n\n}"],"sourceRoot":""}